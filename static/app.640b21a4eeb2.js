webpackJsonp([4],{0:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var i=n(5),a=o(i),r=n(1),s=o(r),u=n(4),l=o(u),c=n(111),d=o(c),p=n(56),f=n(74),h=n(73),v=n(72),g=n(221);f.use(v),f.use(h),f.config.devtools=!0,f.http.options.emulateJSON=!0;var m=new h({hashbang:!0,history:!1,transitionOnLoad:!0});m.beforeEach(function(e){var t=e.to,n=e.next;if("/clear"===t.path)return a["default"].clear(),(0,p.clearCookie)("PIPA_OPENID",""),void alert("本地数据已清除");if(a["default"].wxOpenId)return void n();if(l["default"].log("beforeEach","wxOpenId:"+a["default"].wxOpenId+" to.path:"+t.path),!t.query.code&&!t.query.state){var o=encodeURIComponent(s["default"].WX_HOST),i=t.path.split("?")[0],r="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+s["default"].WX_APPID+"&redirect_uri="+o+"&response_type=code&scope=snsapi_userinfo&state="+i+"#wechat_redirect";return l["default"].log("beforeEach","redirect url:"+r),void(location.href=r)}t.query.state&&(l["default"].log("main:beforeEach","code:"+t.query.code),f.http.post(s["default"].API_URL+"weixin/oauth/decode",{code:t.query.code}).then(function(e){var n=e.data;if(0===n.result){a["default"].wxOpenId=n.openid;var o=s["default"].WX_HOST+"/#!"+t.query.state;l["default"].log("beforeEach","openid:"+a["default"].wxOpenId+", url:"+o),location.href=o}else a["default"].wxOpenId=""},function(e){l["default"].log("beforeEach","get openid error"),alert("校验错误")}))}),m.map(d["default"]),m.start(g,"#app")},1:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,i,a;console.log("location.origin:"+location.origin),"http://127.0.0.1:8080"===location.origin?(i="wxb3ec764893b99722",n="http://127.0.0.1:8080",o="http://127.0.0.1:5000",a="p0bNHtwoPetgCgoJtPuGwZ1j5vgY"):(i="wxacfa25edbc32b183",n="http://pay.chexianghui.com",o="http://pay.chexianghui.com",a="p0bNHtwoPetgCgoJtPuGwZ1j5vgY"),t["default"]={WX_HOST:n,API_HOST:o,API_URL:o+"/api/",WX_APPID:i,cardId:a,shareTitle:"噼啪支付",shareLogo:"http://wx.cdn.pipapay.com/static/images/pipalogo-blue2.png",shareDesc:"噼啪GIFT卡"}},2:function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(o[a]=!0)}for(i=0;i<t.length;i++){var r=t[i];"number"==typeof r[0]&&o[r[0]]||(n&&!r[2]?r[2]=n:n&&(r[2]="("+r[2]+") and ("+n+")"),e.push(r))}},e}},3:function(e,t,n){function o(e,t){for(var n=0;n<e.length;n++){var o=e[n],i=d[o.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](o.parts[a]);for(;a<o.parts.length;a++)i.parts.push(u(o.parts[a],t))}else{for(var r=[],a=0;a<o.parts.length;a++)r.push(u(o.parts[a],t));d[o.id]={id:o.id,refs:1,parts:r}}}}function i(e){for(var t=[],n={},o=0;o<e.length;o++){var i=e[o],a=i[0],r=i[1],s=i[2],u=i[3],l={css:r,media:s,sourceMap:u};n[a]?n[a].parts.push(l):t.push(n[a]={id:a,parts:[l]})}return t}function a(e,t){var n=h(),o=m[m.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),m.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function r(e){e.parentNode.removeChild(e);var t=m.indexOf(e);t>=0&&m.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",a(e,t),t}function u(e,t){var n,o,i;if(t.singleton){var a=g++;n=v||(v=s(t)),o=l.bind(null,n,a,!1),i=l.bind(null,n,a,!0)}else n=s(t),o=c.bind(null,n),i=function(){r(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else i()}}function l(e,t,n,o){var i=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=x(t,i);else{var a=document.createTextNode(i),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(a,r[t]):e.appendChild(a)}}function c(e,t){var n=t.css,o=t.media,i=t.sourceMap;if(o&&e.setAttribute("media",o),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var d={},p=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},f=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=p(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,g=0,m=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=f()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=i(e);return o(n,t),function(e){for(var a=[],r=0;r<n.length;r++){var s=n[r],u=d[s.id];u.refs--,a.push(u)}if(e){var l=i(e);o(l,t)}for(var r=0;r<a.length;r++){var u=a[r];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete d[u.id]}}}};var x=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},4:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n=(s["default"].wxOpenId||"",new Image(0,0)),o=[];o.push("version="+d),o.push("name="+encodeURIComponent(e)),t.message&&o.push("message="+encodeURIComponent(t.message)),t.location&&o.push("location="+encodeURIComponent(t.location)),t.line&&o.push("line="+encodeURIComponent(t.line)),t.func&&o.push("func="+encodeURIComponent(t.func));var i=o.join("&");n.src=c+i,console.log(""+e+", "+t.message)}function a(e,t){var n=s["default"].wxOpenId||"",o=new Image(0,0),i=[];i.push("version="+d),i.push("openid="+n),i.push("name="+encodeURIComponent(e)),i.push("message="+encodeURIComponent(t));var a=i.join("&");o.src=c+a,console.log("["+e+"] "+t)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),s=o(r),u=n(1),l=o(u),c=l["default"].API_HOST+"/log.gif?",d="0.1";window.onerror=i,t["default"]={err:i,log:a}},5:function(e,t,n){"use strict";var o=n(56);e.exports={wxConfigMode:"",wxConfigModeSet:function(e){this.wxConfigMode=e},set wxOpenId(e){(0,o.setCookie)("PIPA_OPENID",e,1080),localStorage.setItem("PIPA_OPENID",e)},get wxOpenId(){var e=localStorage.getItem("PIPA_OPENID")||(0,o.getCookie)("PIPA_OPENID");return e&&!localStorage.getItem("PIPA_OPENID")&&localStorage.setItem("PIPA_OPENID",e),e},clear:function(){localStorage.clear()}}},56:function(e,t){"use strict";function n(e,t,n){var o=new Date;o.setTime(o.getTime()+60*n*60*1e3*24),document.cookie=e+"="+escape(t)+";path=/;expires="+o.toGMTString()}function o(e,t,n,o){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),document.cookie=e+"="+escape(t)+";path=/;expires="+i.toGMTString()+";domain="+o}function i(e){n(e,"",-1)}function a(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?unescape(t[2]):null}function r(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null}function s(e,t,n){var o=e.split("#")[0];return/\?/g.test(o)?/name=[-\w]{4,25}/g.test(o)?o=o.replace(/name=[-\w]{4,25}/g,t+"="+n):o+="&"+t+"="+n:o+="?"+t+"="+n,e=e.split("#")[1]?o+"#"+window.location.href.split("#")[1]:o}Object.defineProperty(t,"__esModule",{value:!0}),t.setCookie=n,t.setCookieEx=o,t.clearCookie=i,t.getCookie=a,t.getQueryString=r,t.addUrlParam=s},71:function(e,t,n){var o,i;o=n(87),i=n(198),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)},75:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={components:{"app-header":n(253),Loading:n(71),Alert:n(223)},data:function(){return{showHeader:!1,navTitle:"噼啪支付",loading:{show:!1,text:"数据加载中"},alert:{show:!1,title:"提示信息",text:"提示内容",buttonText:"知道了",onHide:function(){}}}},computed:{userAgent:function(){return navigator.userAgent.toLowerCase()},isWeixin:function(){return this.userAgent.indexOf("micromessenger")!==-1},isQQ:function(){return this.userAgent.indexOf("qq")!==-1},isAndroid:function(){return this.userAgent.indexOf("android")!==-1},isApple:function(){return this.userAgent.indexOf("iphone")!==-1||this.userAgent.includes("ipad")!==-1}},methods:{resetAlert:function(){this.alert={show:!1,title:"提示信息",text:"提示内容",buttonText:"确定",onHide:function(){}}}},events:{showLoading:function(){this.loading.show=!0},hideLoading:function(){this.loading.show=!1},alert:function(e,t){this.alert={show:!0,title:"",text:e,buttonText:"确定",onHide:t||function(){}}}}}},78:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(227),a=o(i);t["default"]={components:{Dialog:a["default"]},props:{show:{type:Boolean,"default":!1},title:{type:String,required:!0},buttonText:{type:String,"default":"OK"},maskTransition:{type:String,"default":"vux-fade"},dialogTransition:{type:String,"default":"vux-dialog"}},methods:{onHide:function(){this.show=!1}}}},82:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{show:{type:Boolean,"default":!1},maskTransition:{type:String,"default":"vux-fade"},dialogTransition:{type:String,"default":"vux-dialog"}},watch:{show:function(e){this.$emit(e?"on-show":"on-hide")}}}},87:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{show:{type:Boolean,"default":!1},text:{type:String,"default":"加载中..."}}}},90:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{leftOptions:{type:Object,"default":function(){return{showBack:!0,backText:"Back",preventGoBack:!1}}},rightOptions:{type:Object,"default":function(){return{showMore:!1}}}},methods:{onClickBack:function(){this.leftOptions.preventGoBack?this.$emit("on-click-back"):history.back()}}}},108:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:["navTitle"],components:{"x-header":n(235)},data:function(){return{leftOptions:{backText:"返回",showBack:!0}}},watch:{navTitle:function(e,t){document.title="噼啪 -"+e,this.$root.isWeixin&&this.$root.isApple&&!function(){var e=document.createElement("iframe");e.setAttribute("style","display: none; width:0; height:0;");var t=function n(){setTimeout(function(){e.removeEventListener("load",n),document.body.removeChild(e)},10)};e.addEventListener("load",t),document.body.appendChild(e)}()}}}},111:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={"*":{name:"home",component:function(e){n.e(0,function(t){var n=[t(70)];e.apply(null,n)}.bind(this))}},"/":{name:"home",component:function(e){n.e(0,function(t){var n=[t(70)];e.apply(null,n)}.bind(this))}},"/buy/:cardId":{name:"buy",component:function(e){n.e(2,function(t){var n=[t(240)];e.apply(null,n)}.bind(this))}},"/buy/result/:orderId":{name:"buy_result",component:function(e){n.e(0,function(t){var n=[t(241)];e.apply(null,n)}.bind(this))}},"/memcards":{name:"memcards",component:function(e){n.e(0,function(t){var n=[t(249)];e.apply(null,n)}.bind(this))}},"/card/active":{name:"active",component:function(e){n.e(0,function(t){var n=[t(239)];e.apply(null,n)}.bind(this))}},"/pay/cards":{name:"paycards",component:function(e){n.e(0,function(t){var n=[t(250)];e.apply(null,n)}.bind(this))}},"/pay/:cardId/:cardCode":{name:"pay",component:function(e){n.e(3,function(t){var n=[t(251)];e.apply(null,n)}.bind(this))}},"/pay/records":{name:"pay_records",component:function(e){n.e(0,function(t){var n=[t(252)];e.apply(null,n)}.bind(this))}},"/gift":{name:"gift",component:function(e){n.e(0,function(t){var n=[t(242)];e.apply(null,n)}.bind(this))}},"/gift/share/:cardId/:cardCode":{name:"gift_share",component:function(e){n.e(0,function(t){var n=[t(244)];e.apply(null,n)}.bind(this))}},"/gift/share/result/:cardId/:cardCode":{name:"gift_share_result",component:function(e){n.e(0,function(t){var n=[t(245)];e.apply(null,n)}.bind(this))}},"/gift/receive/:sign":{name:"gift_receive",component:function(e){n.e(0,function(t){var n=[t(243)];e.apply(null,n)}.bind(this))}},"/help":{name:"help",component:function(e){n.e(0,function(t){var n=[t(247)];e.apply(null,n)}.bind(this))}},"/guide":{name:"guide",component:function(e){n.e(0,function(t){var n=[t(246)];e.apply(null,n)}.bind(this))}},"/notice":{name:"notice",component:function(e){n.e(0,function(t){var n=[t(248)];e.apply(null,n)}.bind(this))}}}},166:function(e,t){},177:function(e,t){},185:function(e,t){e.exports=" <div :class=\"['flex', 'app-' + $route.name]\"> <app-header :nav-title.sync=navTitle></app-header> <div class=page-content> <router-view></router-view> </div> <loading :show.sync=loading.show :text=\"\"></loading> <alert :show.sync=alert.show :title=alert.title :button-text=alert.buttonText @on-hide=alert.onHide>{{alert.text}}</alert> </div> "},187:function(e,t){e.exports=' <dialog class=weui_dialog_alert :show=show :mask-transition=maskTransition :dialog-transition=dialogTransition @on-hide="$emit(\'on-hide\')" @on-show="$emit(\'on-show\')"> <div class=weui_dialog_hd><strong class=weui_dialog_title>{{title}}</strong></div> <div class=weui_dialog_bd><slot></slot></div> <div class=weui_dialog_ft> <a href=javascript:; class="weui_btn_dialog primary" @click=onHide>{{buttonText}}</a> </div> </dialog> '},191:function(e,t){e.exports=" <div class=weui_dialog_alert v-show=show :transition=maskTransition> <div class=weui_mask></div> <div class=weui_dialog v-show=show :transition=dialogTransition> <slot></slot> </div> </div> "},198:function(e,t){e.exports=' <div id=loadingToast class=weui_loading_toast v-show=show> <div class=weui_mask_transparent></div> <div class=weui_toast> <div class=weui_loading> <div class=weui_loading_leaf v-for="i in 12" :class="[\'weui_loading_leaf_\' + i]"></div> </div> <p class=weui_toast_content>{{text}}<slot></slot></p> </div> </div> '},201:function(e,t){e.exports=" <div class=vux-header> <div class=vux-header-left> <a class=vux-header-back @click.preventdefault v-show=leftOptions.showBack @click=onClickBack>{{leftOptions.backText}}</a> <slot name=left></slot> </div> <h1 class=vux-header-title><slot></slot></h1> <div class=vux-header-right> <a class=vux-header-more @click.preventdefault @click=\"$emit('on-click-more')\" v-if=rightOptions.showMore></a> <slot name=right></slot> </div> </div> "},218:function(e,t){e.exports=" <template v-if=$root.showHeader> <header> <x-header :left-options=leftOptions style=background-color:#fff>{{navTitle}}</x-header> </header> </template> "},221:function(e,t,n){var o,i;n(166),o=n(75),i=n(185),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)},223:function(e,t,n){var o,i;o=n(78),i=n(187),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)},227:function(e,t,n){var o,i;o=n(82),i=n(191),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)},235:function(e,t,n){var o,i;n(177),o=n(90),i=n(201),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)},253:function(e,t,n){var o,i;o=n(108),i=n(218),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)}});