webpackJsonp([3],{1:function(e,t){var i=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=i)},4:function(e,t,i){e.exports={"default":i(7),__esModule:!0}},6:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{type:{"default":"default"},disabled:{type:Boolean,"default":!1},mini:{type:Boolean,"default":!1},plain:{type:Boolean,"default":!1},text:String},computed:{classes:function(){return[{weui_btn_disabled:this.disabled,weui_btn_mini:this.mini},"weui_btn_"+this.type,this.plain?"weui_btn_plain_"+this.type:""]}}}},7:function(e,t,i){var o=i(1),s=o.JSON||(o.JSON={stringify:JSON.stringify});e.exports=function(e){return s.stringify.apply(s,arguments)}},10:function(e,t){e.exports=" <button class=weui_btn :class=classes :disabled=disabled> {{text}}<slot></slot> </button> "},11:function(e,t,i){var o,s;o=i(6),s=i(10),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},40:function(e,t,i){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function s(e,t,i,o,s,n){c["default"].log("onMenuShareAppMessage","title:"+t+", wx:"+wx),wx.onMenuShareAppMessage({title:t,desc:i,link:e,imgUrl:o,success:function(){c["default"].log("onMenuShareAppMessage","success"),s&&s()},cancel:function(){c["default"].log("onMenuShareAppMessage","cancel"),n&&n()},fail:function(e){alert((0,d["default"])(e))}})}function n(e,t,i,o,s,n){wx.onMenuShareTimeline({title:t,link:e,desc:i,imgUrl:o,success:function(){c["default"].log("onMenuShareTimeline","success"),s&&s()},cancel:function(){c["default"].log("onMenuShareTimeline","cancel"),n&&n()}})}function a(e,t,i,o){var s=f["default"].wxConfigMode;if(s==t)return c["default"].log("wxRegister","discarded, wxConfig now mode:"+s+", input mode:"+t),void(i&&i());var n=location.href.split("#")[0];c["default"].log("wxRegister","register url:"+n),e.$http.post(p["default"].API_URL+"weixin/sign/jsapi",{url:n}).then(function(e){c["default"].log("wxRegister","jsapi response ok"),e&&e.data?(wx.config({debug:!1,appId:e.data.appId,timestamp:e.data.timestamp,nonceStr:e.data.nonceStr,signature:e.data.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","scanQRCode","openCard","addCard","chooseWXPay"]}),wx.ready(function(){c["default"].log("wxRegister","wx.config ok..."),f["default"].wxConfigModeSet(t),i&&i()}),wx.error(function(e){c["default"].log("wxRegister","wx config error:"+e.errMsg),o&&o()})):o&&o()},function(e){c["default"].err("wxRegister",e),o&&o()})}Object.defineProperty(t,"__esModule",{value:!0});var r=i(4),d=o(r);t.onMenuShareAppMessage=s,t.onMenuShareTimeline=n,t.wxRegister=a;var l=i(3),c=o(l),u=i(2),p=o(u),x=i(16),f=o(x)},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{value:{type:[String,Number],required:!0},disabled:{type:Boolean,"default":!1}},computed:{classNames:function(){var e={"vux-tap-active":!this.disabled};return this.$parent.defaultItemClass&&(e[this.$parent.defaultItemClass]=!0),this.$parent.selectedItemClass&&(e[this.$parent.selectedItemClass]=this.$parent.value===this.value),this.$parent.disabledItemClass&&(e[this.$parent.disabledItemClass]=this.disabled),e}},methods:{select:function(){this.disabled||(this.$parent.$set("value",this.value),this.$emit("on-item-click",this.value,this.disabled))}}}},55:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{defaultItemClass:String,selectedItemClass:String,disabledItemClass:String,value:{type:[String,Number]}},watch:{value:function(e){this.$emit("on-change",e)}}}},90:function(e,t,i){t=e.exports=i(14)(),t.push([e.id,".vux-checker-item{display:inline-block}",""])},91:function(e,t,i){var o=i(90);"string"==typeof o&&(o=[[e.id,o,""]]);i(15)(o,{});o.locals&&(e.exports=o.locals)},92:function(e,t){e.exports=" <div class=vux-checker-item :class=classNames @click=select> <slot></slot> </div> "},93:function(e,t){e.exports=" <div class=vux-checker-box> <slot></slot> </div> "},94:function(e,t,i){var o,s;o=i(54),s=i(92),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},95:function(e,t,i){var o,s;i(91),o=i(55),s=i(93),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},113:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=["-moz-box-","-webkit-box-",""];t["default"]={props:{span:[Number,String],order:[Number,String]},methods:{buildWidth:function(e){return"number"==typeof e?e<1?e:e/12:"string"==typeof e?e.replace("px","")/this.bodyWidth:void 0}},computed:{style:function(){var e={},t="horizontal"===this.$parent.orient?"marginLeft":"marginTop";if(e[t]=this.$parent.gutter+"px",this.span)for(var o=0;o<i.length;o++)e[i[o]+"flex"]="0 0 "+100*this.buildWidth(this.span)+"%";return"undefined"!=typeof this.order&&(e.order=this.order),e}},data:function(){return{bodyWidth:document.documentElement.offsetWidth}}}},114:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{gutter:{type:Number,"default":8},orient:{type:String,"default":"horizontal"},justify:String,align:String,wrap:String,direction:String},computed:{styles:function(){return{"justify-content":this.justify,"align-items":this.align,"flex-wrap":this.wrap,"flex-direction":this.direction}}}}},119:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(142);t["default"]={mixins:[o.parentMixin]}},127:function(e,t,i){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(16),n=o(s),a=i(2),r=o(a),d=i(3),l=(o(d),i(40));t["default"]={attached:function(){this.$root.navTitle="电子卡赠送",this.$root.showHeader=!0},components:{Checker:i(95),CheckerItem:i(94),XButton:i(11),Tabbar:i(234),Flexbox:i(229),FlexboxItem:i(228)},data:function(){return{cardIndex:-1,cardIdSelect:"",cardCodeSelect:"",cards:[],no_data:!1}},methods:{onCardSelect:function(e){this.cardIdSelect=this.cards[e].cardId,this.cardCodeSelect=this.cards[e].cardCode,this.cardIndex=e},goShare:function(){this.cardCodeSelect?this.$route.router.go({name:"gift_share",params:{cardId:this.cardIdSelect,cardCode:this.cardCodeSelect}}):this.$dispatch("alert","此卡还未与微信卡包绑定")},goBuy:function(){this.$route.router.go({name:"buy"})},goPage:function(e){this.$route.router.replace({name:e})}},ready:function(){var e=this;e.$dispatch("showLoading"),e.openid=n["default"].wxOpenId,e.$http.post(r["default"].API_URL+"cards",{openid:e.openid,share:1}).then(function(t){var i=t.data;i&&0==i.result?(e.$dispatch("hideLoading"),e.cards=i.data,0==e.cards.length&&(e.no_data=!0),(0,l.wxRegister)(e,"index",function(){(0,l.onMenuShareTimeline)(location.origin+location.pathname,r["default"].shareTitle,r["default"].shareDesc,r["default"].shareLogo),(0,l.onMenuShareAppMessage)(location.origin+location.pathname,r["default"].shareTitle,r["default"].shareDesc,r["default"].shareLogo)})):e.$dispatch("hideLoading")},function(){e.$dispatch("hideLoading")})}}},142:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={ready:function(){this.updateIndex()},methods:{updateIndex:function(){if(this.$children){this.number=this.$children.length;for(var e=this.$children,t=0;t<e.length;t++)e[t].index=t,e[t].selected&&(this.index=t)}}},props:{index:{type:Number,"default":0}},watch:{index:function(e,t){this.$children[t].selected=!1,this.$children[e].selected=!0}},data:function(){return{number:this.$children.length}}},o={props:{selected:{type:Boolean,"default":!1}},ready:function(){this.$parent.updateIndex()},beforeDestroy:function(){var e=this.$parent;this.$nextTick(function(){e.updateIndex()})},methods:{onItemClick:function(){this.selected=!0,this.$parent.index=this.index,this.$emit("on-item-click")}},watch:{selected:function(e){e&&(this.$parent.index=this.index)}},data:function(){return{index:-1}}};t.parentMixin=i,t.childMixin=o},155:function(e,t,i){t=e.exports=i(14)(),t.push([e.id,".vux-flexbox{width:100%;text-align:left;display:-webkit-box;display:-ms-flexbox;display:flex;box-align:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.vux-flexbox .vux-flexbox-item{-webkit-box-flex:1;-ms-flex:1;flex:1;min-width:20px}.vux-flexbox-item>.vux-flexbox{width:100%}.vux-flexbox .vux-flexbox-item:first-child{margin-left:0!important;margin-top:0!important}.vux-flex-col{box-orient:vertical;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.vux-flex-col>.vux-flexbox-item{width:100%}.vux-flex-row{box-direction:row;box-orient:horizontal;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}",""])},157:function(e,t,i){t=e.exports=i(14)(),t.push([e.id,".wx-cards .card-item{width:100%}.wx-cards .card_item{margin-bottom:.5rem}.wx-cards .weui_tabbar{z-index:99;position:fixed;background-color:#fff}",""])},168:function(e,t,i){var o=i(155);"string"==typeof o&&(o=[[e.id,o,""]]);i(15)(o,{});o.locals&&(e.exports=o.locals)},170:function(e,t,i){var o=i(157);"string"==typeof o&&(o=[[e.id,o,""]]);i(15)(o,{});o.locals&&(e.exports=o.locals)},192:function(e,t){e.exports=" <div class=vux-flexbox-item :style=style> <slot></slot> </div> "},193:function(e,t){e.exports=" <div class=vux-flexbox :class=\"{'vux-flex-col': orient === 'vertical', 'vux-flex-row': orient === 'horizontal'}\" :style=styles> <slot></slot> </div> "},200:function(e,t){e.exports=" <div class=weui_tabbar> <slot></slot> </div> "},207:function(e,t){e.exports=' <div class=wx-cards id=walmart_15_1> <div class="content card-list"> <div class=weui_cells_title v-show=!no_data>你共有<span style=color:#e64340>{{cards.length}}</span>张礼品卡</div> <div class=not_card v-show=no_data> <p class=ncd_p1><span class=ico_nocard></span></p> <p class=ncd_p2>暂无可赠送的电子卡~~</p> <p class=ncd_p3> <x-button type=primary @click=goBuy>购买电子卡</x-button> </p> </div> <checker :value.sync=cardIndex default-item-class=card-item selected-item-class=card-item-selected @on-change=onCardSelect> <checker-item :value=$index v-for="item in cards"> <div class=donation_dov> <div class=card_item data-id={{$index}} :class="$index==cardIndex ? \'on\':\'\'"> <div class=card_itop> <div class=card_it1><span class=card_img><img :src=item.logo alt=""></span></div> <div class=card_it2>{{item.title}}</div> </div> <div class=card_ibtm> <div class=card_ib1>余额: <span class=col4>￥<em>{{item.amount}}</em></span></div> <div class=card_ib2>有效期至{{item.expireDate}}</div> </div> </div> </div> <div style=height:60px v-show="$index==cards.length-1"></div> </checker-item> </checker> </div> <tabbar> <flexbox v-show=!no_data> <flexbox-item> <div class=donation_d1>已选 <span class=choose-counter>{{cardIndex==-1?\'0\':\'1\'}}</span> 张</div> </flexbox-item> <flexbox-item> <div style=padding:5px> <x-button :disabled="cardIndex==-1" type=primary @click=goShare>赠送</x-button> </div> </flexbox-item> </flexbox> </tabbar> </div> '},228:function(e,t,i){var o,s;o=i(113),s=i(192),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},229:function(e,t,i){var o,s;i(168),o=i(114),s=i(193),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},234:function(e,t,i){var o,s;o=i(119),s=i(200),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},242:function(e,t,i){var o,s;i(170),o=i(127),s=i(207),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)}});