webpackJsonp([1],[function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}var a=o(83),i=s(a),n=o(82),r=s(n),l=o(81),d=s(l),c=o(241),u=s(c),p=o(4),f=s(p),h=o(1),v=s(h),m=o(2),x=s(m),_=o(129),g=s(_),b=o(55),y=o(69);y.attach(document.body),i["default"].use(d["default"]),i["default"].use(r["default"]),i["default"].config.devtools=!0;var w=new r["default"]({hashbang:!1,history:!0});w.beforeEach(function(e){var t=e.to,o=e.next;if(x["default"].log("beforeEach","wxOpenId:"+f["default"].wxOpenId+" to.path:"+t.path),"/clear"===t.path)return f["default"].clear(),(0,b.clearCookie)("PIPA_OPENID",""),void alert("本地数据已清除");if(f["default"].wxOpenId)return void o();if(!t.query.code&&!t.query.state){var s=encodeURIComponent(v["default"].WX_HOST),a=t.path.split("?")[0],n="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+v["default"].WX_APPID+"&redirect_uri="+s+"&response_type=code&scope=snsapi_base&state="+a+"#wechat_redirect";return x["default"].log("beforeEach","redirect url:"+n),void(location.href=n)}t.query.state&&(x["default"].log("main:beforeEach","code:"+t.query.code),i["default"].http.post(v["default"].API_URL+"weixin/oauth/decode",{code:t.query.code}).then(function(e){var s=e.data;if(0===s.result){f["default"].wxOpenId=s.openid;var a=v["default"].WX_HOST+t.query.state;x["default"].log("beforeEach","openid:"+f["default"].wxOpenId+", url:"+a),o()}else f["default"].wxOpenId=""},function(e){x["default"].log("beforeEach","get openid error"),alert("校验错误")}))}),w.map(g["default"]),w.start(u["default"],"#app")},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,s,a,i;console.log("location.origin:"+location.origin),"http://127.0.0.1:8080"===location.origin?(a="wxb3ec764893b99722",o="http://127.0.0.1:8080",s="http://127.0.0.1:5000",i="pYtFst9hZmAy3VmyajWSQaB2sQgw"):(a="wx6965cc85ec3e801c",o="http://wx.pipapay.com",s="http://live.pipapay.com",i="pYtFst9hZmAy3VmyajWSQaB2sQgw"),t["default"]={WX_HOST:o,API_HOST:s,API_URL:s+"/api/",WX_APPID:a,cardId:i,shareTitle:"噼啪支付",shareLogo:"http://wx.cdn.pipapay.com/static/images/pipalogo-blue2.png",shareDesc:"噼啪GIFT卡"}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){var o=(r["default"].wxOpenId||"",new Image(0,0)),s=[];s.push("version="+u),s.push("name="+encodeURIComponent(e)),t.message&&s.push("message="+encodeURIComponent(t.message)),t.location&&s.push("location="+encodeURIComponent(t.location)),t.line&&s.push("line="+encodeURIComponent(t.line)),t.func&&s.push("func="+encodeURIComponent(t.func));var a=s.join("&");o.src=c+a,console.log(""+e+", "+t.message)}function i(e,t){var o=r["default"].wxOpenId||"",s=new Image(0,0),a=[];a.push("version="+u),a.push("openid="+o),a.push("name="+encodeURIComponent(e)),a.push("message="+encodeURIComponent(t));var i=a.join("&");s.src=c+i,console.log("["+e+"] "+t)}Object.defineProperty(t,"__esModule",{value:!0});var n=o(4),r=s(n),l=o(1),d=s(l),c=d["default"].API_HOST+"/log.gif?",u="0.1";window.onerror=a,t["default"]={err:a,log:i}},function(e,t,o){var s,a;o(188),s=o(106),a=o(221),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){"use strict";var s=o(55);e.exports={wxConfigStatus:!1,wxConfigEnable:function(){this.wxConfigStatus=!0},set wxOpenId(e){(0,s.setCookie)("PIPA_OPENID",e,1080),localStorage.setItem("PIPA_OPENID",e)},get wxOpenId(){var e=localStorage.getItem("PIPA_OPENID")||(0,s.getCookie)("PIPA_OPENID");return e&&!localStorage.getItem("PIPA_OPENID")&&localStorage.setItem("PIPA_OPENID",e),e},clear:function(){localStorage.clear()}}},,function(e,t,o){var s,a;s=o(99),a=o(214),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},,function(e,t,o){var s,a;s=o(105),a=o(220),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},,,,,function(e,t,o){var s,a;o(180),s=o(86),a=o(199),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;s=o(87),a=o(200),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){e.exports={"default":o(135),__esModule:!0}},,,,,,,,function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,o,s,a,i){l["default"].log("onMenuShareAppMessage","title:"+t),wx&&wx.onMenuShareAppMessage({title:t,desc:o,link:e,imgUrl:s,success:function(){l["default"].log("onMenuShareAppMessage","success"),a&&a()},cancel:function(){i&&i()}})}function i(e,t,o,s,a,i){wx&&wx.onMenuShareTimeline({title:t,link:e,desc:o,imgUrl:s,success:function(){a&&a()},cancel:function(){i&&i()}})}function n(e,t){var o=p["default"].wxOpenId,s=p["default"].wxConfigStatus;if(!o||s)return l["default"].log("wxRegister","discarded, openid:"+o+", wxConfig status:"+s),void(t&&t());var n=location.href.split("#")[0];l["default"].log("wxRegister","register url:"+n),e.$http.post(c["default"].API_URL+"weixin/sign/jsapi",{url:n}).then(function(o){l["default"].log("wxRegister","jsapi response ok"),e.loading=!1,o&&o.data&&(wx.config({debug:!1,appId:o.data.appId,timestamp:o.data.timestamp,nonceStr:o.data.nonceStr,signature:o.data.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","chooseImage","uploadImage","scanQRCode","openCard","addCard","chooseWXPay"]}),wx.ready(function(){l["default"].log("wxRegister","wx.config ok..."),p["default"].wxConfigEnable(),i(location.origin+location.pathname,c["default"].shareTitle,c["default"].shareDesc,c["default"].shareLogo),a(location.origin+location.pathname,c["default"].shareTitle,c["default"].shareDesc,c["default"].shareLogo)}),wx.error(function(e){l["default"].log("wxRegister","wx config error:"+e.errMsg)})),t&&t()},function(e){l["default"].err("wxRegister",e),t&&t()})}Object.defineProperty(t,"__esModule",{value:!0}),t.onMenuShareAppMessage=a,t.onMenuShareTimeline=i,t.wxRegister=n;var r=o(2),l=s(r),d=o(1),c=s(d),u=o(4),p=s(u)},,,function(e,t){"use strict";function o(e){if("string"!=typeof e)throw new TypeError("This library (validator.js) validates strings only")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o,e.exports=t["default"]},function(e,t,o){var s,a;s=o(95),a=o(208),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;o(174),s=o(96),a=o(209),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},,function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,o){u["default"].log("addCard","invoking wx:"+(0,d["default"])(e)),wx.addCard({cardList:e,success:function(e){u["default"].log("addCard","add card success:"+e+", json:"+(0,d["default"])(e.cardList)),t&&t(e.cardList)},cancel:function(e){o&&o()},fail:function(e){o&&o()}})}function i(e,t,o,s,i,n){e.$http.post(s+"weixin/card/add",{card_global_id:t,openid:o}).then(function(e){var o=e.data;if(0==o.result){var s=o.data,r=[];r.push({cardId:s.id,cardExt:'{"timestamp":"'+s.timestamp+'","signature":"'+s.signature+'"}'}),a(r,i,n)}else u["default"].log("wxAddCard","post add-card:"+t+" failed"),n&&n()},function(){u["default"].log("wxAddCard","post add-card:"+t+" exception"),n&&n()})}function n(e,t,o,s,i,n){e.$http.post(s+"weixin/cards/add",{orderId:t,openid:o}).then(function(e){var o=e.data;if(0==o.result){for(var s=o.data,r=[],l=0;l<s&&s.length;l++){var d=s[l];r.push({cardId:d.id,cardExt:'{"timestamp":"'+d.timestamp+'","signature":"'+d.signature+'"}'})}a(r,i,n)}else u["default"].log("wxAddCards","post add-cards order:"+t+" failed"),n&&n()},function(){u["default"].log("wxAddCards","post add-cards order:"+t+" exception"),n&&n()})}function r(e,t,o,s,a){u["default"].log("wxOpenCard","cardId:"+t+" code:"+o),wx.openCard({cardList:[{cardId:t,code:o}],success:function(e){var t=e.cardList;u["default"].log("wxOpenCard","card list:"+t),s&&s(t)},cancel:function(e){a&&a()},fail:function(e){a&&a()}})}Object.defineProperty(t,"__esModule",{value:!0});var l=o(15),d=s(l);t.wxAddCard=i,t.wxAddCards=n,t.wxOpenCard=r;var c=o(2),u=s(c)},,,,,,,,,,,,,,,function(e,t,o){var s,a;s=o(91),a=o(204),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;o(181),s=o(92),a=o(205),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;s=o(94),a=o(207),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;o(184),a=o(213),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;o(185),s=o(100),a=o(215),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},,,function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(53),i=s(a);t["default"]={mixins:[i["default"]],props:{required:{type:Boolean,"default":!0}},created:function(){this.handleChangeEvent=!1},computed:{dirty:function(){return!this.prisine},invalid:function(){return!this.valid}},methods:{setTouched:function(){this.touched=!0}},watch:{value:function(e){this.prisine===!0&&(this.prisine=!1),this.handleChangeEvent||this.$emit("change",e)}},data:function(){return{errors:{},prisine:!0,touched:!1,valid:!0}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={created:function(){this.uuid=Math.random().toString(36).substring(3,8)}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!/^javas/.test(e)&&e){var o="object"===("undefined"==typeof e?"undefined":(0,r["default"])(e))||"string"==typeof e&&!/http/.test(e);o?t.go(e):window.location.href=e}}function i(e,t){return!t||t._history||"string"!=typeof e||/http/.test(e)?e&&"object"!==("undefined"==typeof e?"undefined":(0,r["default"])(e))?e:"javascript:void(0);":"#!"+e}Object.defineProperty(t,"__esModule",{value:!0});var n=o(31),r=s(n);t.go=a,t.getUrl=i},function(e,t){"use strict";function o(e,t,o){var s=new Date;s.setTime(s.getTime()+60*o*60*1e3*24),document.cookie=e+"="+escape(t)+";path=/;expires="+s.toGMTString()}function s(e,t,o,s){var a=new Date;a.setTime(a.getTime()+24*o*60*60*1e3),document.cookie=e+"="+escape(t)+";path=/;expires="+a.toGMTString()+";domain="+s}function a(e){o(e,"",-1)}function i(e){var t,o=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(o))?unescape(t[2]):null}function n(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),o=window.location.search.substr(1).match(t);return null!=o?unescape(o[2]):null}function r(e,t,o){var s=e.split("#")[0];return/\?/g.test(s)?/name=[-\w]{4,25}/g.test(s)?s=s.replace(/name=[-\w]{4,25}/g,t+"="+o):s+="&"+t+"="+o:s+="?"+t+"="+o,e=e.split("#")[1]?s+"#"+window.location.href.split("#")[1]:s}Object.defineProperty(t,"__esModule",{value:!0}),t.setCookie=o,t.setCookieEx=s,t.clearCookie=a,t.getCookie=i,t.getQueryString=n,t.addUrlParam=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={ready:function(){this.updateIndex()},methods:{updateIndex:function(){if(this.$children){this.number=this.$children.length;for(var e=this.$children,t=0;t<e.length;t++)e[t].index=t,e[t].selected&&(this.index=t)}}},props:{index:{type:Number,"default":0}},watch:{index:function(e,t){this.$children[t].selected=!1,this.$children[e].selected=!0}},data:function(){return{number:this.$children.length}}},s={props:{selected:{type:Boolean,"default":!1}},ready:function(){this.$parent.updateIndex()},beforeDestroy:function(){var e=this.$parent;this.$nextTick(function(){e.updateIndex()})},methods:{onItemClick:function(){this.selected=!0,this.$parent.index=this.index,this.$emit("on-item-click")}},watch:{selected:function(e){e&&(this.$parent.index=this.index)}},data:function(){return{index:-1}}};t.parentMixin=o,t.childMixin=s},,,,,,,,,,,,,,function(e,t){"use strict";function o(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];for(var o in t)"undefined"==typeof e[o]&&(e[o]=t[o]);return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o,e.exports=t["default"]},function(e,t,o){var s,a;s=o(88),a=o(201),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;s=o(89),a=o(202),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;o(173),s=o(90),a=o(203),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;a=o(210),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;o(182),s=o(97),a=o(211),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;o(187),s=o(102),a=o(217),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;s=o(104),a=o(219),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;s=o(108),a=o(223),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;o(175),s=o(109),a=o(224),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;s=o(110),a=o(225),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},,,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(125),i=o(23),n=o(1),r=s(n);t["default"]={components:{Loading:a.Loading,Flexbox:a.Flexbox,FlexboxItem:a.FlexboxItem},data:function(){return{loading:!1,buy_url:"/buy/"+r["default"].cardId}},ready:function(){var e=this;this.loading=!0,(0,i.wxRegister)(this,function(){e.loading=!1})}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{show:{type:Boolean,required:!0,"default":!1,twoWay:!0},showCancel:{type:Boolean,"default":!1},cancelText:{type:String,"default":"取消"},menus:{type:Object,"default":{}}},methods:{emitEvent:function(e,t){"on-click-menu"!==e||/.noop/.test(t)||(this.$emit(e,t),this.$emit(e+"-"+t),this.show=!1)}}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(47),i=s(a);t["default"]={components:{Dialog:i["default"]},props:{show:{type:Boolean,"default":!1},title:{type:String,required:!0},buttonText:{type:String,"default":"OK"},maskTransition:{type:String,"default":"vux-fade"},dialogTransition:{type:String,"default":"vux-dialog"}},methods:{onHide:function(){this.show=!1}}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(51);s(a);t["default"]={ready:function(){this._barcode=null,""!=this.code&&(this._barcode=JsBarcode(this.$el,this.code,{displayValue:this.displayValue,width:this.width,height:this.height}))},props:{code:{type:[String,Number],required:!0},displayValue:{type:Boolean,"default":!0},width:{type:Number,"default":1},height:{type:Number,"default":120}},watch:{code:function(e){null!=this.code&&(this._barcode=JsBarcode("#barcode",this.code,{displayValue:this.displayValue,width:this.width,height:this.height}))}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{gap:String}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(48),i=s(a),n=o(54);t["default"]={components:{InlineDesc:i["default"]},props:{title:String,value:String,isLink:Boolean,inlineDesc:String,primary:{type:String,"default":"title"},link:{type:[String,Object]}},methods:{onClick:function(){(0,n.go)(this.link,this.$router)}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{value:{type:[String,Number],required:!0},disabled:{type:Boolean,"default":!1}},computed:{classNames:function(){var e={"vux-tap-active":!this.disabled};return this.$parent.defaultItemClass&&(e[this.$parent.defaultItemClass]=!0),this.$parent.selectedItemClass&&(e[this.$parent.selectedItemClass]=this.$parent.value===this.value),this.$parent.disabledItemClass&&(e[this.$parent.disabledItemClass]=this.disabled),e}},methods:{select:function(){this.disabled||(this.$parent.$set("value",this.value),this.$emit("on-item-click",this.value,this.disabled))}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{defaultItemClass:String,selectedItemClass:String,disabledItemClass:String,value:{type:[String,Number]}},watch:{value:function(e){this.$emit("on-change",e)}}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(47),i=s(a);t["default"]={components:{Dialog:i["default"]},props:{show:{type:Boolean,"default":!1,twoWay:!0},title:{type:String,required:!0},confirmText:{type:String,"default":"confirm"},cancelText:{type:String,"default":"cancel"},maskTransition:{type:String,"default":"vux-fade"},dialogTransition:{type:String,"default":"vux-dialog"}},methods:{onConfirm:function(){this.show=!1,this.$emit("on-confirm")},onCancel:function(){this.show=!1,this.$emit("on-cancel")}},watch:{show:function(e){e&&this.$emit("on-show")}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{show:{type:Boolean,"default":!1},maskTransition:{type:String,"default":"vux-fade"},dialogTransition:{type:String,"default":"vux-dialog"}},watch:{show:function(e){this.$emit(e?"on-show":"on-hide")}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=["-moz-box-","-webkit-box-",""];t["default"]={props:{span:[Number,String],order:[Number,String]},methods:{buildWidth:function(e){return"number"==typeof e?e<1?e:e/12:"string"==typeof e?e.replace("px","")/this.bodyWidth:void 0}},computed:{style:function(){var e={},t="horizontal"===this.$parent.orient?"marginLeft":"marginTop";if(e[t]=this.$parent.gutter+"px",this.span)for(var s=0;s<o.length;s++)e[o[s]+"flex"]="0 0 "+100*this.buildWidth(this.span)+"%";return"undefined"!=typeof this.order&&(e.order=this.order),e}},data:function(){return{bodyWidth:document.documentElement.offsetWidth}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{gutter:{type:Number,"default":8},orient:{type:String,"default":"horizontal"},justify:String,align:String,wrap:String,direction:String},computed:{styles:function(){return{"justify-content":this.justify,"align-items":this.align,"flex-wrap":this.wrap,"flex-direction":this.direction}}}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(74),i=s(a);t["default"]={components:{GroupTitle:i["default"]},props:{title:String,titleColor:String}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{type:String},computed:{className:function(){return"weui_icon weui_icon_"+this.type}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{show:{type:Boolean,"default":!1},text:{type:String,"default":"加载中..."}}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o(126);t["default"]={props:{color:{type:String,"default":"0, 0, 0"},opacity:{type:Number,"default":.5}},computed:{style:function(){var e=/,/.test(this.color)?this.color:(0,s.toRGB)(this.color.replace("#","")).join(",");return{backgroundColor:"rgba("+e+","+this.opacity+")"}}}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(127),i=s(a);t["default"]={props:{show:{type:Boolean,"default":!1,twoWay:!0},height:{type:String,"default":"auto"}},ready:function(){var e=this;this.popup=new i["default"]({container:e.$el,innerHTML:"",onOpen:function(t){e.show=!0},onClose:function(t){e.show=!1}})},data:function(){return{hasFirstShow:!1}},watch:{show:function(e){e?(this.popup.show(),this.$emit("on-show"),this.hasFirstShow||(this.$emit("on-first-show"),this.hasFirstShow=!0)):(this.$emit("on-hide"),this.show=!1,this.popup.hide(!1))}},beforeDestroy:function(){this.popup.destroy()}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(48),i=s(a);t["default"]={components:{InlineDesc:i["default"]},computed:{labelStyle:function(){var e=/<\/?[^>]*>/.test(this.title),t=Math.min(e?5:this.title.length+1,14)+"em";return{width:t}}},props:{title:{type:String,required:!0},disabled:{type:Boolean,"default":!1},value:{type:Boolean},inlineDesc:String},ready:function(){},watch:{value:function(e){this.$emit("on-change",e)}}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o(56),a=o(54);t["default"]={mixins:[s.childMixin],props:{showDot:{type:Boolean,"default":!1},link:[String,Object]},events:{"on-item-click":function(){(0,a.go)(this.link,this.$router)}}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o(56);t["default"]={mixins:[s.parentMixin]}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{type:{"default":"default"},disabled:{type:Boolean,"default":!1},mini:{type:Boolean,"default":!1},plain:{type:Boolean,"default":!1},text:String},computed:{classes:function(){return[{weui_btn_disabled:this.disabled,weui_btn_mini:this.mini},"weui_btn_"+this.type,this.plain?"weui_btn_plain_"+this.type:""]}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{leftOptions:{type:Object,"default":function(){return{showBack:!0,backText:"Back",preventGoBack:!1}}},rightOptions:{type:Object,"default":function(){return{showMore:!1}}}},methods:{onClickBack:function(){this.leftOptions.preventGoBack?this.$emit("on-click-back"):history.back()}}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(269),i=s(a),n=o(270),r=s(n),l=o(53),d=s(l);t["default"]={mixins:[d["default"]],compiled:function(){(0,r["default"])()&&this.src&&this.webpSrc&&(this.src=this.webpSrc)},ready:function(){var e=this,t="vux-ximg-"+this.uuid;this.$el.setAttribute("id",t),this.$el.setAttribute("data-src",this.src),this.blazy=new i["default"]({scroller:this.scroller,selector:"#"+t,offset:e.offset,errorClass:e.errorClass,successClass:e.successClass,success:function(t){e.$emit("on-success",e.src,t)},error:function(t,o){e.$emit("on-error",e.src,t,o)}})},props:{src:String,webpSrc:String,defaultSrc:{type:String,"default":"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="},errorClass:String,successClass:String,offset:{type:Number,defaut:100},"class":String,scroller:Object},beforeDestroy:function(){this.blazy&&this.blazy.destroy()}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(57),i=s(a),n=o(52),r=s(n),l=o(244),d=s(l),c=o(48),u=s(c),p=o(195),f=s(p),h=o(197),v=s(h),m={email:{fn:f["default"],msg:"邮箱格式"},"china-mobile":{fn:function(e){return(0,v["default"])(e,"zh-CN")},msg:"手机号码"},"china-name":{fn:function(e){return e.length>=2&&e.length<=6},msg:"中文姓名"}};t["default"]={ready:function(){this.title||this.placeholder||console.warn("no title and no placeholder?"),this.equalWith&&(this.showClear=!1),this.required&&!this.value&&(this.valid=!1),"email"===this.isType&&(this.type="email")},mixins:[r["default"]],components:{Icon:d["default"],InlineDesc:u["default"]},props:{title:{type:String,"default":""},placeholder:String,value:{type:String,"default":"",twoWay:!0},readonly:{type:Boolean,"default":!1},keyboard:String,inlineDesc:String,isType:String,min:Number,max:Number,showClear:{type:Boolean,"default":!0},equalWith:String,type:{type:String,"default":"text"},textAlign:String},computed:{pattern:function(){if("number"===this.keyboard||"china-mobile"===this.isType)return"[0-9]*"},labelWidth:function(){return this.title.replace(/[^x00-xff]/g,"00").length/2+1},hasErrors:function(){return(0,i["default"])(this.errors).length>0},inputStyle:function(){if(this.textAlign)return{textAlign:this.textAlign}}},methods:{clear:function(){this.value="",this.focus=!0},blur:function(){this.setTouched(),this.validate()},getError:function(){var e=(0,i["default"])(this.errors)[0];this.firstError=this.errors[e]},validate:function(){if(this.equalWith)return void this.validateEqual();if(this.errors={},!this.value&&!this.required)return void(this.valid=!0);if(!this.value&&this.required)return this.valid=!1,void(this.errors.required="必填哦");var e=m[this.isType];if(e){if(this.valid=e.fn(this.value),!this.valid)return void(this.errors.format=e.msg+"格式不对哦~");delete this.errors.format}if(this.min)if("number"===this.type){if(Number(this.value)<this.min)return this.errors.min=this.$interpolate("最少应该输入大于或等于{{min}}的值哦"),this.valid=!1,void(this.forceShowError=!0);this.forceShowError=!1,delete this.errors.min}else{if(this.value.length<this.min)return this.errors.min=this.$interpolate("最少应该输入{{min}}个字符哦"),this.valid=!1,void(this.forceShowError=!0);this.forceShowError=!1,delete this.errors.min}if(this.max)if("number"===this.type){if(Number(this.value)>this.max)return this.errors.max=this.$interpolate("最少应该输入小于或等于{{max}}的值哦"),this.valid=!1,void(this.forceShowError=!0);this.forceShowError=!1,delete this.errors.max}else{if(this.value.length>this.max)return this.errors.max=this.$interpolate("最多可以输入{{max}}个字符哦"),this.valid=!1,void(this.forceShowError=!0);this.forceShowError=!1,delete this.errors.max}this.valid=!0},validateEqual:function(){var e=this.dirty||this.value.length>=this.equalWith.length;return e&&this.value!==this.equalWith?(this.valid=!1,void(this.errors.equal="输入不一致")):(this.valid=!0,void delete this.errors.equal)}},data:function x(){var x={firstError:"",forceShowError:!1,hasLengthEqual:!1,focus:!1};return x},watch:{focus:function(e){e&&this.$els.input.focus()},valid:function(){this.getError()},value:function(e){this.equalWith?(e.length===this.equalWith.length&&(this.hasLengthEqual=!0),this.validateEqual()):this.validate()}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{min:Number,max:Number,step:{type:Number,"default":1},value:{type:Number,"default":0},title:String,fillable:{type:Boolean,"default":!0},width:{type:Number,"default":50}},computed:{disabledMin:function(){return"undefined"!=typeof this.min&&this.value<=this.min},disabledMax:function(){return"undefined"!=typeof this.max&&this.value>=this.max}},ready:function(){},watch:{value:function(e,t){this.min&&this.value<this.min&&(this.value=this.min),this.max&&this.value>this.max&&(this.value=this.max),this.$emit("on-change",this.value)}},methods:{add:function(){this.disabledMax||(this.value+=this.step)},sub:function(){this.disabledMin||(this.value-=this.step)}}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(52),i=s(a);t["default"]={minxins:[i["default"]],props:{showCounter:{type:Boolean,"default":!0},max:Number,value:{type:String,"default":"",twoWay:!0},placeholder:{type:String,"default":""},rows:{type:Number,"default":3},cols:{type:Number,"default":30},height:Number},watch:{value:function(e){this.max&&this.value.length>this.max&&(this.value=e.slice(0,this.max)),this.$emit("on-change",this.value)}},computed:{count:function(){return this.value.length},textareaStyle:function(){if(this.height)return{height:this.height+"px"}}}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(1),i=s(a),n=o(13),r=s(n),l=o(6),d=s(l),c=o(3),u=s(c),p=o(8),f=s(p),h=o(2),v=s(h);t["default"]={components:{XHeader:u["default"],Actionsheet:r["default"],Loading:d["default"],XButton:f["default"]},data:function(){return{active_status:1,cards:{number:0,money:0,list:[]},menus:{menu1:"付款",menu2:"我的卡包",menu3:"赠送卡",menu4:"在线购物",menu5:"用卡说明"},showMenus:!1,alert:{message:"",show:!1},loading:!1}},route:{},methods:{clickMemCard:function(){this.$route.router.go({name:"memcards"})}},ready:function(){var e=this;e.loading=!0;var t=this.$route.query;this.$http.post(i["default"].API_URL+"card/active",t).then(function(t){e.loading=!1,v["default"].log("CardActive","card active:"+t.data);var o=t.data;o&&0==o.result?e.active_status=0:e.active_status=255})}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(1),i=s(a),n=o(13),r=s(n),l=o(6),d=s(l),c=o(3),u=s(c),p=o(8),f=s(p),h=o(46),v=s(h),m=o(45),x=s(m),_=o(75),g=s(_),b=o(79),y=s(b),w=o(73),k=s(w),M=o(76),S=s(M),I=o(78),C=s(I),A=o(72),$=s(A),P=o(14),O=s(P),T=o(2),j=s(T),B=o(4),E=s(B);t["default"]={components:{Actionsheet:r["default"],Loading:d["default"],Checker:v["default"],CheckerItem:x["default"],XHeader:u["default"],XNumber:y["default"],Group:g["default"],Cell:k["default"],Switch:S["default"],XInput:C["default"],XButton:f["default"],Box:$["default"],Alert:O["default"]},data:function(){return{money:50,otherMoney:"",count:1,invoice:{enable:!1,select:!1,titleValid:!0,title:"",name:"",phone:"",zip:"",address:"",menus:{menu1:"商品一批",menu2:"食品一批",menu3:"日用品一批"},content:"商品一批"},menus:{home:"首页",cards:"我的卡包"},showMenus:!1,cardId:"",orderId:"",alert:{message:"",show:!1,callback:""},loading:!1}},computed:{buyButtonDisable:function(){return!((this.money>0||this.otherMoney.length>0)&&this.invoice_valid())}},methods:{invoiceContentSelect:function(e){this.invoice.content=this.invoice.menus[e]},orderCommit:function(e,t,o){e.$http.post(i["default"].API_URL+"card/buy/commit",{orderId:t
}).then(function(s){0==s.result?(e.alertMessage("订单提交完成"),j["default"].log("wxPay","orderId:"+t+" ,buy card success")):j["default"].log("wxPay","orderId:"+t+" ,buy card fail:"+s.result),o&&o()},function(e){j["default"].log("wxPay","orderId:"+t+" ,buy card exception"),o&&o()})},onCardResultShow:function(){this.$route.router.go({name:"buy_result",params:{orderId:this.orderId}})},wxPay:function(e){var t=this,o=e.orderId;j["default"].log("CardBuy","to weixin pay, sign:"+e.paySign+"orderId:"+o),wx&&wx.chooseWXPay({timestamp:e.timeStamp,nonceStr:e.nonceStr,"package":e["package"],signType:e.signType,paySign:e.paySign,success:function(e){j["default"].log("wxPay","orderId:"+o+" ,pay succeed"),t.orderCommit(t,o,function(){t.orderId=o,t.alertMessage("订单支付成功",t.onCardResultShow)})},fail:function(e){t.alertMessage("订单支付失败")}})},buyCard:function(){var e=this;e.loading=!0,0==this.money&&Number(this.otherMoney)>1e3&&e.alertMessage("输入的其他金额不符合要求"),e.openid=E["default"].wxOpenId;var t={price:(e.money||Number(e.otherMoney))*e.count,count:e.count,openId:e.openid,cardId:i["default"].cardId};j["default"].log("CardBuy","openid:"+t.openId+" cardId:"+t.cardId+" price:"+t.price+" count:"+t.count),this.$http.post(i["default"].API_URL+"card/buy",t).then(function(t){var o=t.data;e.loading=!1,0==o.result?e.wxPay(o.content):1==o.result?e.alertMessage("订单已完成现金支付，请等待商家确认"):255==o.result?e.alertMessage("订单已完成支付"):e.alertMessage("支付异常，请稍后再试")},function(){e.loading=!1,e.alertMessage("系统错误，请稍后再试")})},alertMessage:function(e,t){this.alert.message=e,this.alert.show=!0,this.alert.callback=t||null},invoice_valid:function(){return!this.invoice.enable||this.invoice.title.length>0&&this.invoice.name.length>0&&this.invoice.phone.length>0&&this.invoice.zip.length>0&&this.invoice.address.length>0&&this.invoice.content.length>0},onPage:function(e){this.$route.router.replace({name:e})}}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(1),i=s(a),n=o(4),r=s(n),l=o(13),d=s(l),c=o(6),u=s(c),p=o(3),f=s(p),h=o(30);t["default"]={components:{XHeader:f["default"],Actionsheet:d["default"],Loading:u["default"]},data:function(){return{order_id:"",buy_status:1,cards:{number:0,amount:0},menus:{home:"首页"},loading:!1,showMenus:!1,alert:{message:"",show:!1}}},ready:function(){var e=this;e.loading=!0,e.$http.post(i["default"].API_URL+"card/dispatch",{order_id:e.order_id}).then(function(t){e.loading=!1;var o=t.data;0==o.result?(e.cards.number=o.data.count,e.cards.amount=o.data.amount,e.buy_status=0):(e.buy_status=255,e.loading=!1)},function(){e.buy_status=255,e.loading=!1})},route:{data:function(e){this.openid=r["default"].wxOpenId,this.order_id=e.to.params.orderId}},methods:{clickMemCard:function(){if(0!=this.cards.number){var e=this;e.Loading=!0,(0,h.wxAddCards)(e,e.order_id,e.openid,i["default"].API_URL,function(t){e.Loading=!1,console.log("wx.addCard:"+t),e.$route.router.replace({name:"memcards"})},function(){e.Loading=!1})}},onHome:function(){this.$route.router.replace({name:"home"})}}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(15),i=s(a),n=o(13),r=s(n),l=o(6),d=s(l),c=o(3),u=s(c),p=o(8),f=s(p),h=o(46),v=s(h),m=o(45),x=s(m),_=o(77),g=s(_),b=o(28),y=s(b),w=o(27),k=s(w),M=o(4),S=s(M),I=o(1),C=s(I),A=o(2),$=s(A);t["default"]={components:{Checker:v["default"],CheckerItem:x["default"],XHeader:u["default"],Tabbar:g["default"],Flexbox:y["default"],FlexboxItem:k["default"],XButton:f["default"],Loading:d["default"],Actionsheet:r["default"]},data:function(){return{cardIndex:-1,cardIdSelect:"",cardCodeSelect:"",menus:{home:"首页",cards:"我的卡包"},cards:[],showMenus:!1,loading:!1,no_data:!1}},methods:{onCardSelect:function(e){this.cardIdSelect=this.cards[e].cardId,this.cardCodeSelect=this.cards[e].cardCode,this.cardIndex=e},onShare:function(){this.$route.router.go({name:"gift_share",params:{cardId:this.cardIdSelect,cardCode:this.cardCodeSelect}})},onBuyCard:function(){this.$route.router.go({name:"buy"})},onPage:function(e){this.$route.router.replace({name:e})}},route:{data:function(e){var t=this;t.loading=!0,t.openid=S["default"].wxOpenId,this.$http.post(C["default"].API_URL+"cards",{openid:t.openid,share:1}).then(function(e){t.loading=!1,$["default"].log("CardGift"," data:"+(0,i["default"])(e.data));var o=e.data;o&&0==o.result&&(t.cards=o.data,0==t.cards.length&&(t.no_data=!0))})}}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(30),i=o(6),n=s(i),r=o(8),l=s(r),d=o(1),c=s(d),u=o(4),p=s(u),f=o(2),h=s(f);t["default"]={components:{XButton:l["default"],Loading:n["default"]},data:function(){return{no_data:!1,info:{giveUserHeadImg:"/static/images/ico-head.png",giveUsername:"",shareContent:"",cardStatus:0,giveStatus:0,acquireUserOpenId:""},loading:!1,statusStr:""}},methods:{onHome:function(){this.$route.router.go({name:"home"})},onBuyCard:function(){this.$route.router.go({name:"buy"})},onReceiveCard:function(){this.loading=!0;var e=this;h["default"].log("CardGiftReceive"," openid:"+e.openid+" sign:"+e.sign),this.$http.post(c["default"].API_URL+"card/receive",{openId:e.openid,sign:e.sign}).then(function(t){this.loading=!1;var o=t.data;h["default"].log("CardGiftReceive","ack status:"+o.result),255!=o.result&&(1==o.data.status?(0,a.wxOpenCard)(e,o.data.wxCardId,o.data.code,function(t){e.$route.router.go({name:"memcards"})}):(0,a.wxAddCard)(e,o.data.cardGlobalId,e.openid,c["default"].API_URL,function(t){e.$route.router.go({name:"memcards"})}))},function(){this.loading=!1})}},ready:function(){var e=this;this.loading=!0,this.$http.post(c["default"].API_URL+"card/receive/check",{openId:e.openid,sign:e.sign}).then(function(t){e.loading=!1;var o=t.data;return 255==o.result?void(e.no_data=!0):(e.info=o.data,h["default"].log("CardGiftReceive","myself:"+e.openid+" giving status:"+e.info.giveStatus+", card status:"+e.info.cardStatus),void(0==e.info.giveStatus?e.statusStr="领取电子卡":e.info.acquireUserOpenId!=e.openid?e.statusStr="已被领取":0==e.info.cardStatus?e.statusStr="已领取，未放入卡包":1==e.info.cardStatus?e.statusStr="已放入微信卡包未激活":2==e.info.cardStatus?e.statusStr="已放入微信卡包已激活":3==e.info.cardStatus?e.statusStr="已过期":4==e.info.cardStatus?e.statusStr="转赠中":e.statusStr="已转赠"))})},route:{data:function(e){this.openid=p["default"].wxOpenId,this.sign=e.to.params.sign}}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(15),i=s(a),n=o(3),r=s(n),l=o(8),d=s(l),c=o(80),u=s(c),p=o(14),f=s(p),h=o(1),v=s(h),m=o(23),x=o(4),_=s(x),g=o(2),b=s(g);t["default"]={components:{XHeader:r["default"],XButton:d["default"],XTextarea:u["default"],Alert:f["default"]},data:function(){return{cardId:"",cardCode:"",maskShow:!1,content:"小小卡片，浓浓情义",shareUrl:"",card:{sign:"",cardId:"",cardName:"",timestamp:""},alert:{message:"",show:!1}}},route:{data:function(e){this.openid=_["default"].wxOpenId,this.cardId=e.to.params.cardId,this.cardCode=e.to.params.cardCode}},methods:{alertMsg:function(e){this.alert.message=e,this.alert.show=!0},updateCardStatus:function(){var e=this;this.$http.post(v["default"].API_URL+"card/share",{openId:e.openid,sign:e.card.sign,cardId:e.cardId,cardCode:e.cardCode,timestamp:e.card.timestamp,content:e.content}).then(function(t){var o=t.data;0==o.result&&e.$route.router.go({name:"gift_share_result",params:{cardId:e.cardId,cardCode:e.cardCode}})})},onShare:function(){var e=this;e.shareUrl="http://"+location.host+"/#!/gift/receive/"+e.card.sign,b["default"].log("CardGiftShare","onShare url:"+e.shareUrl+" card:"+e.card.cardName+" content:"+e.content+" logo:"+e.card.logo),(0,m.onMenuShareAppMessage)(e.shareUrl,"点击领取"+e.card.cardName,e.content,e.card.logo,function(){b["default"].log("CardGiftShare"," menu share ok"),e.maskShow=!1,e.updateCardStatus()},function(){e.maskShow=!1,b["default"].log("CardGiftShare","menu share error")})},goHome:function(){this.$route.router.go({name:"home"})}},ready:function(){var e=this;this.$http.post(v["default"].API_URL+"card/share/check",{openId:e.openid,cardId:e.cardId,cardCode:e.cardCode}).then(function(t){var o=t.data;return b["default"].log("CardGiftShare","card sharing check error:"+(0,i["default"])(o)),0!=o.result?void e.alertMsg("该卡已不存在"):void(o.status>2?e.alertMsg("该卡已经转赠,无法再继续转赠"):(b["default"].log("CardGiftShare","card sharing check ok"),e.card=o.card,e.onShare()))},function(){b["default"].log("CardGiftShare","card sharing check exception")})}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(3),i=s(a),n=o(14),r=s(n),l=o(1),d=s(l),c=o(4),u=s(c),p=o(2);s(p);t["default"]={components:{XHeader:i["default"],Alert:r["default"]},data:function(){return{share:{},alert:{message:"",show:!1}}},methods:{onMyCard:function(){this.$route.router.go({name:"memcards"})}},ready:function(){var e=this;this.$http.post(d["default"].API_URL+"card/share/info",{openId:this.openid,cardId:this.cardId,cardCode:this.cardCode}).then(function(t){var o=t.data;0==o.result&&(e.share=o.data)})},route:{data:function(e){this.openid=u["default"].wxOpenId,this.cardId=e.to.params.cardId,this.cardCode=e.to.params.cardCode}}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(3),i=s(a),n=o(1);s(n);t["default"]={components:{XHeader:i["default"]},data:function(){return{width:0,height:0}},route:{data:function(e){this.width=window.innerWidth,this.height=window.innerHeight}}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(3),i=s(a);t["default"]={components:{XHeader:i["default"]},data:function(){return{width:0,height:0}},methods:{},route:{data:function(e){this.width=window.innerWidth,this.height=window.innerHeight}}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(3),i=s(a);t["default"]={components:{XHeader:i["default"]},data:function(){return{width:0,height:0}},methods:{},route:{data:function(e){this.width=window.innerWidth,this.height=window.innerHeight}}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(15),i=s(a),n=o(13),r=s(n),l=o(6),d=s(l),c=o(3),u=s(c),p=o(8),f=s(p),h=o(49),v=s(h),m=o(28),x=s(m),_=o(27),g=s(_),b=o(14),y=s(b),w=o(1),k=s(w),M=o(4),S=s(M),I=o(30),C=o(2),A=s(C),$=o(23);t["default"]={components:{Actionsheet:r["default"],Loading:d["default"],Masker:v["default"],XHeader:u["default"],XButton:f["default"],Alert:y["default"],Flexbox:x["default"],FlexboxItem:g["default"]},data:function(){return{menus:{home:"首页"},showMenus:!1,no_data:!1,cards:[],statusStr:["未入微信卡包","已入微信卡包,未激活","已激活","已过期","转赠中","已转赠"],statusClass:["wxcard-disable","wxcard-enable","wxcard-enable","wxcard-invalid","wxcard-disable","wxcard-invalid"],loading:!1,alert:{message:"",show:!1}}},methods:{onHome:function(){this.$route.router.replace({name:"home"})},alertMsg:function(e){this.alert.message=e,this.alert.show=!0},buyCard:function(){this.$route.router.go({name:"buy"})},chooseCard:function(){var e=this;location.href.split("#")[0];e.$http.post(k["default"].API_URL+"weixin/card/choose/sign").then(function(t){if(t&&t.data){var o=t.data;A["default"].log("cards","chooseCard:"+(0,i["default"])(o)),wx.chooseCard({timestamp:o.timestamp,nonceStr:o.nonceStr,signType:"SHA1",cardSign:o.cardSign,success:function(t){e.cards_online=t.cardList,e.cards_online||(e.cards_online=t.available_cards)}})}})},openCard:function(e){this.loading=!0;var t=this,o=e.currentTarget.attributes,s=o["data-index"].value,a=o["data-globalid"].value,i=o["data-cardid"].value,n=o["data-status"].value;if(A["default"].log("cards","open card:"+a),n>=3)return t.loading=!1,void t.alertMsg("该卡正在转赠中或已过期，不可使用");if(0==n)t.loading=!0,(0,I.wxAddCard)(t,a,t.openid,k["default"].API_URL,function(e){t.$http.post(k["default"].API_URL+"card/add/status/update",{openid:t.openid,cardGlobalId:a}).then(function(e){t.loading=!1,0==e.result&&(t.cards[Number(s)].cardCode=e.data,t.cards[Number(s)].status=1,t.alertMsg("该卡已成功添加到微信卡包"))},function(){t.loading=!1,t.alertMsg("已成功添加到微信卡包, 服务器更新卡状态异常")})},function(){t.loading=!1,t.alertMsg("添加到微信卡包异常")});else{t.loading=!1;var r=o["data-cardcode"]&&o["data-cardcode"].value||0;(0,I.wxOpenCard)(t,i,r)}}},ready:function(){var e=this;e.openid=S["default"].wxOpenId,e.loading=!0,(0,$.wxRegister)(e,function(){e.$http.post(k["default"].API_URL+"cards",{openid:e.openid}).then(function(t){e.loading=!1;var o=t.data;o&&0==o.result&&(e.cards=o.data),0==e.cards.length&&(e.no_data=!0)},function(){e.loading=!1})})}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(15),i=s(a),n=o(13),r=s(n),l=o(6),d=s(l),c=o(3),u=s(c),p=o(8),f=s(p),h=o(49),v=s(h),m=o(28),x=s(m),_=o(27),g=s(_),b=o(14),y=s(b),w=o(1),k=s(w),M=o(4),S=s(M),I=o(2),C=s(I),A=o(23);t["default"]={components:{Loading:d["default"],Masker:v["default"],XHeader:u["default"],Actionsheet:r["default"],XButton:f["default"],Alert:y["default"],Flexbox:x["default"],FlexboxItem:g["default"]},data:function(){return{menus:{home:"首页",cards:"我的卡包"},showMenus:!1,cards:[],cards_online:[],no_data:!1,alert:{message:"",show:!1},loading:!1}},route:{data:function(e){var t=this;t.loading=!0,t.openid=S["default"].wxOpenId,this.$http.post(k["default"].API_URL+"cards",{openid:t.openid}).then(function(e){t.loading=!1,C["default"].log("PayCards","cards:"+(0,i["default"])(e));var o=e.data;o&&0==o.result&&(t.cards=o.data),0==t.cards.length&&(t.no_data=!0)},function(){t.loading=!1})}},ready:function(){var e=this;this.loading=!0,(0,A.wxRegister)(this,function(){e.loading=!1})},methods:{alertMsg:function(e){this.alert.message=e,this.alert.show=!0},onBuyCard:function(){this.$route.router.go({name:"buy"})},cardConsume:function(e){var t=e.currentTarget.attributes,o=t["data-cardid"].value,s=t["data-cardcode"]&&t["data-cardcode"].value||0;return o?0==s?void this.alertMsg("请先绑定微信会员卡后再消费！"):(C["default"].log("PayCards","cardConsume, cardid:"+o+", code:"+s),void this.$route.router.go({name:"pay",params:{cardId:o,cardCode:s}})):void this.alertMsg("请选择需要赠送的会员卡！")},onPage:function(e){this.$route.router.replace({name:e})}}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(71),i=s(a),n=o(14),r=s(n),l=o(6),d=s(l),c=o(1),u=s(c),p=o(2),f=(s(p),o(29)),h=s(f);t["default"]={components:{Barcode:i["default"],Qrcode:h["default"],Alert:r["default"],Loading:d["default"]},data:function(){return{timer:null,cardId:"",card:{status:0,merchantName:"",cardName:"",balance:0,qrcode:""},loading:!1,alert:{message:"",show:!1}}},route:{data:function(e){this.cardId=e.to.params.cardId,this.carCode=e.to.params.cardCode}},methods:{alertMsg:function(e){this.alert.message=e,this.alert.show=!0},reload:function(){this.loading=!0;var e=this;this.$http.post(u["default"].API_URL+"card/pay/code",{cardId:this.cardId,cardCode:this.carCode}).then(function(t){e.loading=!1;var o=t.data;o&&0==o.result&&(o.data.status>2?e.alertMsg("该卡正在转赠中或已过期，不可使用"):e.card=o.data)})},refresh:function(){var e=this;this.timer=setTimeout(function(){e.reload(),e.refresh()},6e4)},onPayDetail:function(){this.$route.router.go({name:"pay_records",params:{cardId:this.cardId}})},onHome:function(){this.$route.router.go({name:"home"})}},ready:function(){this.reload(),this.refresh()},beforeDestroy:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(15),i=s(a),n=o(1),r=s(n),l=o(2),d=s(l);t["default"]={components:{},data:function(){return{no_data:!1,rechargeTotal:0,expendTotal:0,records:[]}},methods:{},route:{data:function(e){this.cardId=e.from.params.cardId;var t=this;this.$http.post(r["default"].API_URL+"card/pay/records",{cardId:this.cardId}).then(function(e){d["default"].log("PayRecords","response: "+(0,i["default"])(e.data));var o=e.data;o&&0==o.result&&(t.records=o.data.records,0==t.records.length&&(t.no_data=!0))})}}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}var a=o(262),i=(s(a),o(73)),n=s(i),r=o(78),l=s(r),d=o(79),c=s(d),u=o(80),p=s(u),f=o(8),h=s(f),v=o(76),m=s(v),x=o(74),_=(s(x),o(28)),g=s(_),b=o(27),y=s(b),w=o(245),k=s(w),M=o(13),S=s(M),I=o(6),C=s(I),A=o(14),$=s(A),P=o(243),O=s(P),T=o(247),j=(s(T),o(49)),B=s(j),E=o(3),D=s(E),F=o(46),N=s(F),L=o(45),R=s(L),q=o(47),U=(s(q),o(71)),H=s(U),W=o(29),X=s(W),z=o(75),G=s(z),V=o(72),Q=s(V),J=o(128),Z={Cell:n["default"],Switch:m["default"],XInput:l["default"],XNumber:c["default"],XButton:h["default"],XTextarea:p["default"],Flexbox:g["default"],FlexboxItem:y["default"],Popup:k["default"],Actionsheet:S["default"],Loading:C["default"],Alert:$["default"],Confirm:O["default"],XHeader:D["default"],Checker:N["default"],CheckerItem:R["default"],Barcode:H["default"],Qrcode:X["default"],Group:G["default"],Box:Q["default"],Masker:B["default"],Tabbar:J.Tabbar};e.exports=Z},function(e,t){"use strict";function o(e){var t=parseInt(e,16);return[t>>16,t>>8&255,255&t]}function s(e,t,o){return(o|t<<8|e<<16|1<<24).toString(16).slice(1)}Object.defineProperty(t,"__esModule",{value:!0}),t.toRGB=o,t.toHex=s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){this.params={},"[object Object]"===Object.prototype.toString.call(e)&&(this.params={input:e.input||"",container:document.querySelector(e.input)||"",innerHTML:e.innerHTML||"",onOpen:e.onOpen||function(){},onClose:e.onClose||function(){}}),!!document.querySelectorAll(".vux-popup-mask").length<=0&&(this.divMask=document.createElement("a"),this.divMask.className="vux-popup-mask",this.divMask.href="javascript:void(0)",document.body.appendChild(this.divMask));var t=void 0;return t=e.container?e.container:document.createElement("div"),t.className="vux-popup-dialog",e.container||document.body.appendChild(t),this.mask=document.querySelector(".vux-popup-mask"),this.container=document.querySelectorAll(".vux-popup-dialog"),this.container=this.container[this.container.length-1],this._bindEvents(),e=null,this};o.prototype.onClickMask=function(){this.hide(!1)},o.prototype._bindEvents=function(){this.mask.addEventListener("click",this.onClickMask.bind(this),!1)},o.prototype.show=function(){this.mask.classList.add("vux-popup-show"),this.container.classList.add("vux-popup-show"),this.params.onOpen&&this.params.onOpen(this)},o.prototype.hide=function(){var e=arguments.length<=0||void 0===arguments[0]||arguments[0];this.container.classList.remove("vux-popup-show"),document.querySelector(".vux-popup-dialog.vux-popup-show")||this.mask.classList.remove("vux-popup-show"),e===!1&&this.params.onClose&&this.params.onClose(this)},o.prototype.html=function(e){this.container.innerHTML=e},o.prototype.destroy=function(){this.mask.removeEventListener("click",this.onClickMask.bind(this),!1),this.mask&&this.mask.parentNode&&this.mask.parentNode.removeChild(this.mask)},t["default"]=o},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TabbarItem=t.Tabbar=void 0;var a=o(77),i=s(a),n=o(246),r=s(n);t.Tabbar=i["default"],t.TabbarItem=r["default"]},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(242),i=s(a),n=o(249),r=s(n),l=o(250),d=s(l),c=o(251),u=s(c),p=o(253),f=s(p),h=o(254),v=s(h),m=o(248),x=s(m),_=o(252),g=s(_),b=o(259),y=s(b),w=o(260),k=s(w),M=o(261),S=s(M),I=o(256),C=s(I),A=o(255),$=s(A),P=o(257),O=s(P),T=o(258),j=s(T);t["default"]={"*":{name:"home",component:i["default"]},"/":{name:"home",component:i["default"]},"/buy/:cardId":{name:"buy",component:r["default"]},"/buy/result/:orderId":{name:"buy_result",component:d["default"]},"/memcards":{name:"memcards",component:j["default"]},"/card/active":{name:"active",component:x["default"]},"/pay/cards":{name:"paycards",component:y["default"]},"/pay/:cardId/:cardCode":{name:"pay",component:k["default"]},"/pay/records":{name:"pay_records",component:S["default"]},"/gift":{name:"gift",component:u["default"]},"/gift/share/:cardId/:cardCode":{name:"gift_share",component:f["default"]},"/gift/share/result/:cardId/:cardCode":{name:"gift_share_result",component:v["default"]},"/gift/receive/:sign":{name:"gift_receive",component:g["default"]},"/help":{name:"help",component:C["default"]},"/guide":{name:"guide",component:$["default"]},"/notice":{name:"notice",component:O["default"]}}},,,,,,function(e,t,o){var s=o(5),a=s.JSON||(s.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,o){e.exports=o.p+"images/pipalogo-white2.png?a45629a"},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){(0,r["default"])(e);var o=void 0,s=void 0;"object"===("undefined"==typeof t?"undefined":i(t))?(o=t.min||0,s=t.max):(o=arguments[1],s=arguments[2]);var a=encodeURI(e).split(/%..|./).length-1;return a>=o&&("undefined"==typeof s||a<=s)}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t["default"]=a;var n=o(26),r=s(n);e.exports=t["default"]},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if((0,n["default"])(e),t=(0,l["default"])(t,f),t.allow_display_name){var o=e.match(h);o&&(e=o[1])}var s=e.split("@"),a=s.pop(),i=s.join("@"),r=a.toLowerCase();if("gmail.com"!==r&&"googlemail.com"!==r||(i=i.replace(/\./g,"").toLowerCase()),!(0,c["default"])(i,{max:64})||!(0,c["default"])(a,{max:256}))return!1;if(!(0,p["default"])(a,{require_tld:t.require_tld}))return!1;if('"'===i[0])return i=i.slice(1,i.length-1),t.allow_utf8_local_part?_.test(i):m.test(i);for(var d=t.allow_utf8_local_part?x:v,u=i.split("."),g=0;g<u.length;g++)if(!d.test(u[g]))return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var i=o(26),n=s(i),r=o(70),l=s(r),d=o(194),c=s(d),u=o(196),p=s(u),f={allow_display_name:!1,allow_utf8_local_part:!0,require_tld:!0},h=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\s]*<(.+)>$/i,v=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,m=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,x=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,_=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;e.exports=t["default"]},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){(0,n["default"])(e),t=(0,l["default"])(t,d),t.allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1));var o=e.split(".");if(t.require_tld){var s=o.pop();if(!o.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(s))return!1}for(var a,i=0;i<o.length;i++){if(a=o[i],t.allow_underscores&&(a=a.replace(/_/g,"")),!/^[a-z\u00a1-\uffff0-9-]+$/i.test(a))return!1;if(/[\uff01-\uff5e]/.test(a))return!1;if("-"===a[0]||"-"===a[a.length-1])return!1}return!0}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var i=o(26),n=s(i),r=o(70),l=s(r),d={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1};e.exports=t["default"]},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){return(0,n["default"])(e),t in r&&r[t].test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var i=o(26),n=s(i),r={"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"en-US":/^(\+?1)?[2-9]\d{2}[2-9](?!11)\d{6}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"de-DE":/^(\+?49[ \.\-])?([\(]{1}[0-9]{1,6}[\)])?([0-9 \.\-\/]{3,20})((x|ext|extension)[ ]?[0-9]{1,4})?$/,"da-DK":/^(\+?45)?(\d{8})$/,"el-GR":/^(\+?30)?(69\d{8})$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-HK":/^(\+?852\-?)?[569]\d{3}\-?\d{4}$/,"en-IN":/^(\+?91|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)2\d{7,9}$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"es-ES":/^(\+?34)?(6\d{1}|7[1234])\d{7}$/,"fi-FI":/^(\+?358|0)\s?(4(0|1|2|4|5)?|50)\s?(\d\s?){4,8}\d$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"hu-HU":/^(\+?36)(20|30|70)\d{7}$/,"ms-MY":/^(\+?6?01){1}(([145]{1}(\-|\s)?\d{7,8})|([236789]{1}(\s|\-)?\d{7}))$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pt-BR":/^(\+?55|0)\-?[1-9]{2}\-?[2-9]{1}\d{3,4}\-?\d{4}$/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"vi-VN":/^(\+?84|0)?((1(2([0-9])|6([2-9])|88|99))|(9((?!5)[0-9])))([0-9]{7})$/,"zh-CN":/^(\+?0?86\-?)?1[345789]\d{9}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/};r["en-CA"]=r["en-US"],e.exports=t["default"]},function(e,t){e.exports=" <div> <router-view transition transition-mode=out-in></router-view> </div> "},function(e,t){e.exports=' <div> <div class=weui_mask_transition :class="{\'weui_fade_toggle\': show}" :style="{display: show ? \'block\' : \'none\'}" @click="show=false"></div> <div class=weui_actionsheet :class="{\'weui_actionsheet_toggle\': show}"> <div class=weui_actionsheet_menu> <div class=weui_actionsheet_cell v-for="(key, text) in menus" @click="emitEvent(\'on-click-menu\', key)" v-html=text> </div> <div class=vux-actionsheet-gap v-if=showCancel></div> <div class="weui_actionsheet_cell vux-actionsheet-cancel" @click="emitEvent(\'on-click-menu\', \'cancel\')" v-if=showCancel>{{cancelText}}</div> </div> </div> </div> '},function(e,t){e.exports=' <dialog class=weui_dialog_alert :show=show :mask-transition=maskTransition :dialog-transition=dialogTransition @on-hide="$emit(\'on-hide\')" @on-show="$emit(\'on-show\')"> <div class=weui_dialog_hd><strong class=weui_dialog_title>{{title}}</strong></div> <div class=weui_dialog_bd><slot></slot></div> <div class=weui_dialog_ft> <a href=javascript:; class="weui_btn_dialog primary" @click=onHide>{{buttonText}}</a> </div> </dialog> '},function(e,t){e.exports=" <img id=barcode /> "},function(e,t){e.exports=" <div :style={margin:gap}><slot></slot></div> "},function(e,t){e.exports=" <div class=weui_cell :class=\"{'vux-tap-active': isLink || !!link}\" @click=onClick> <div class=weui_cell_hd> <slot name=icon></slot> </div> <div class=weui_cell_bd :class=\"{'weui_cell_primary':primary==='title'}\"> <p> {{title}} <slot name=after-title></slot> </p> <inline-desc>{{inlineDesc}}</inline-desc> </div> <div class=weui_cell_ft :class=\"{'weui_cell_primary':primary==='content', 'with_arrow': isLink || !!link}\"> {{value}} <slot name=value></slot> <slot></slot> </div> </div> "},function(e,t){e.exports=" <div class=vux-checker-item :class=classNames @click=select> <slot></slot> </div> "},function(e,t){e.exports=" <div class=vux-checker-box> <slot></slot> </div> "},function(e,t){e.exports=' <dialog class=weui_dialog_confirm :show=show :mask-transition=maskTransition :dialog-transition=dialogTransition @on-hide="$emit(\'on-hide\')" @on-show="$emit(\'on-show\')"> <div class=weui_dialog_hd><strong class=weui_dialog_title>{{title}}</strong></div> <div class=weui_dialog_bd><slot></slot></div> <div class=weui_dialog_ft> <a href=javascript:; class="weui_btn_dialog default" @click=onCancel>{{cancelText}}</a> <a href=javascript:; class="weui_btn_dialog primary" @click=onConfirm>{{confirmText}}</a> </div> </dialog> '},function(e,t){e.exports=" <div class=weui_dialog_alert v-show=show :transition=maskTransition> <div class=weui_mask></div> <div class=weui_dialog v-show=show :transition=dialogTransition> <slot></slot> </div> </div> "},function(e,t){e.exports=" <div class=vux-flexbox-item :style=style> <slot></slot> </div> "},function(e,t){e.exports=" <div class=vux-flexbox :class=\"{'vux-flex-col': orient === 'vertical', 'vux-flex-row': orient === 'horizontal'}\" :style=styles> <slot></slot> </div> "},function(e,t){e.exports=" <div class=weui_cells_title> <slot></slot> </div> "},function(e,t){e.exports=" <div> <div class=weui_cells_title v-if=title :style={color:titleColor} v-html=title></div> <div class=weui_cells :class=\"{'vux-no-group-title':!title}\"> <slot></slot> </div> </div> "},function(e,t){e.exports=" <i class={{className}}></i> "},function(e,t){e.exports=" <span class=vux-label-desc><slot></slot></span> "},function(e,t){e.exports=' <div id=loadingToast class=weui_loading_toast v-show=show> <div class=weui_mask_transparent></div> <div class=weui_toast> <div class=weui_loading> <div class=weui_loading_leaf v-for="i in 12" :class="[\'weui_loading_leaf_\' + i]"></div> </div> <p class=weui_toast_content>{{text}}<slot></slot></p> </div> </div> '},function(e,t){e.exports=" <div class=vux-masker-box> <slot></slot> <div class=vux-masker :style=style> <slot name=content></slot> </div> </div> "},function(e,t){e.exports=" <div v-show=show transition=vux-popup :style={height:height} class=vux-popup> <slot></slot> </div> "},function(e,t){e.exports=' <div class="weui_cell weui_cell_switch"> <div class="weui_cell_hd weui_cell_primary"> <label class=weui_label :style=labelStyle v-html=title></label> <inline-desc v-if=inlineDesc>{{inlineDesc}}</inline-desc> </div> <div class=weui_cell_ft> <input class=weui_switch type=checkbox :disabled=disabled v-model=value /> </div> </div> '},function(e,t){e.exports=" <a href=javascript:; class=weui_tabbar_item :class=\"{'weui_bar_item_on': $parent.index === index}\" @click=onItemClick> <div class=weui_tabbar_icon :class=\"{'vux-reddot': showDot}\"> <slot name=icon></slot> </div> <p class=weui_tabbar_label> <slot name=label></slot> </p> </a> "},function(e,t){e.exports=" <div class=weui_tabbar> <slot></slot> </div> "},function(e,t){e.exports=" <button class=weui_btn :class=classes :disabled=disabled> {{text}}<slot></slot> </button> "},function(e,t){e.exports=" <div class=vux-header> <div class=vux-header-left> <a class=vux-header-back @click.preventdefault v-show=leftOptions.showBack @click=onClickBack>{{leftOptions.backText}}</a> <slot name=left></slot> </div> <h1 class=vux-header-title><slot></slot></h1> <div class=vux-header-right> <a class=vux-header-more @click.preventdefault @click=\"$emit('on-click-more')\" v-if=rightOptions.showMore></a> <slot name=right></slot> </div> </div> "},function(e,t){e.exports=" <img :src=defaultSrc class=vux-x-img :class=class /> "},function(e,t){e.exports=' <div class=weui_cell :class="{\'weui_cell_warn\': !valid}"> <div class=weui_cell_hd> <label class=weui_label :style="{width: labelWidth + \'em\'}" v-if=title>{{title}}</label> <inline-desc v-if=inlineDesc>{{inlineDesc}}</inline-desc> </div> <div class="weui_cell_bd weui_cell_primary"> <input class=weui_input :style=inputStyle :type=type :pattern=pattern placeholder={{placeholder}} v-model=value :readonly=readonly @blur=blur v-el:input/> </div> <div class=weui_cell_ft> <icon type=clear v-show="showClear && value" @click=clear></icon> <icon type=warn title="{{!valid ? firstError : \'\'}}" v-show="!equalWith && ((touched && !valid && firstError) || (forceShowError && !valid && firstError))"></icon> <icon type=warn v-show="hasLengthEqual && dirty && equalWith && !valid"></icon> <icon type=success v-show="equalWith && equalWith===value && valid"></icon> <slot name=right><slot> </slot></slot></div> </div> ';
},function(e,t){e.exports=' <div class=weui_cell> <div class="weui_cell_bd weui_cell_primary"> <p>{{title}}</p> </div> <div class=weui_cell_ft v-show=!readonly style=font-size:0> <a @click=sub() class="vux-number-selector vux-number-selector-sub needsclick" :class="{\'vux-number-disabled\':disabledMin}">－</a> <input v-model=value class=vux-number-input :style="{width: width+\'px\'}" number :readonly=!fillable pattern=[0-9]* /> <a @click=add() class="vux-number-selector vux-number-selector-plus needsclick" :class="{\'vux-number-disabled\':disabledMax}">+</a> </div> <div class=weui_cell_ft v-else> {{value}} </div> </div> '},function(e,t){e.exports=' <div class=weui_cell> <div class="weui_cell_bd weui_cell_primary"> <textarea class=weui_textarea placeholder={{placeholder}} :rows=rows :cols=cols v-model=value :style=textareaStyle :maxlength=max></textarea> <div class=weui_textarea_counter v-show="showCounter && max"><span>{{count}}</span>/{{max}}</div> </div> </div> '},function(e,t){e.exports=' <div class=order-result> <x-header :left-options=\'{showBack:true, backText:"返回"}\' :right-options={showMore:true} @on-click-more="showMenus=true">激活会员卡 </x-header> <actionsheet :menus=menus :show.sync=showMenus show-cancel></actionsheet> <div id=result-page class=flex> <div class="content trade_success" v-show="active_status==0"> <p class=top_icop><span class="ico_tip ico_success"></span></p> <p class=tips_p1>电子卡激活成功</p> <p class=card_pbtn> <x-button type=primary @click=clickMemCard>查看电子卡</x-button> </p> </div> <div class="content trade_fail" v-show="active_status==255"> <p class=top_icop><span class="ico_tip ico_fail"></span></p> <p class=tips_p1>电子卡激活失败</p> <p class=tips_p2>请稍后重新尝试</p> </div> </div> <loading :show.sync=loading :text=""></loading> </div> '},function(e,t){e.exports=' <div class=order-result> <x-header :left-options=\'{showBack:true, backText:"返回"}\' :right-options={showMore:true} @on-click-more="showMenus=true">购买 </x-header> <actionsheet :menus=menus :show.sync=showMenus show-cancel @on-click-menu-home=onHome></actionsheet> <div id=result-page class=flex> <div class="content pay_success" v-show="buy_status==1"> <p class=top_icop><span class="ico_tip ico_success"></span></p> <p class=tips_p1>支付成功</p> <p class=tips_p2>正在为你分配礼品卡，请稍后…</p> </div> <div class="content trade_success" v-show="buy_status==0"> <p class=top_icop><span class="ico_tip ico_success"></span></p> <p class=tips_p1>购卡成功</p> <p class=tips_p2>你获得 <span class="col0 number">{{cards.number}}张</span> 面值 <span class="col0 amount">{{cards.amount}}元</span> 的礼品卡 </p> <p class=card_pbtn> <button class="blue_btn btn-memcard" type=button @click=clickMemCard>放入微信卡包</button> </p> </div> <div class="content trade_fail" v-show="buy_status==255"> <p class=top_icop><span class="ico_tip ico_fail"></span></p> <p class=tips_p1>购卡失败, 订单号:{{order_id}}</p> <p class=tips_p2>请致电4000-888-400联系客服人员进行处理</p> </div> </div> <loading :show.sync=loading :text=""></loading> </div> '},function(e,t){e.exports=' <div class="wx-cards card gift flex" id=walmart_15_1> <x-header :left-options=\'{showBack:true, backText:"返回"}\' :right-options={showMore:true} @on-click-more="showMenus=true">赠送卡 </x-header> <actionsheet :menus=menus :show.sync=showMenus show-cancel @on-click-menu-home="onPage(\'home\')" @on-click-menu-cards="onPage(\'memcards\')"></actionsheet> <div class=weui_cells_title v-show=!no_data>你共有<span style=color:#6A6AD6>{{cards.length}}</span>张礼品卡</div> <div class="content card-list"> <div class=not_card v-show=no_data> <p class=ncd_p1><span class=ico_nocard></span></p> <p class=ncd_p2>暂无可赠送的电子卡~~</p> <p class=ncd_p3> <x-button type=primary @click=onBuyCard>购买电子卡</x-button> </p> </div> <checker :value.sync=cardIndex default-item-class=card-item selected-item-class=card-item-selected @on-change=onCardSelect> <checker-item :value=$index v-for="item in cards"> <div class=donation_dov> <div class=card_item data-id={{$index}} :class="$index==cardIndex ? \'on\':\'\'"> <div class=card_itop> <div class=card_it1><span class=card_img><img :src=item.img alt=""></span></div> <div class=card_it2>{{item.title}}</div> </div> <div class=card_ibtm> <div class=card_ib1>余额: <span class=col4>￥<em>{{item.amount}}</em></span></div> <div class=card_ib2>有效期至{{item.expireDate}}</div> </div> </div> </div> </checker-item> </checker> </div> <tabbar style=position:fixed> <flexbox v-show=!no_data> <flexbox-item> <div class=donation_d1>已选 <span class=choose-counter>{{cardIndex==-1?\'0\':\'1\'}}</span> 张</div> </flexbox-item> <flexbox-item> <div style=padding:5px> <x-button :disabled="cardIndex==-1" type=primary @click=onShare>赠送</x-button> </div> </flexbox-item> </flexbox> </tabbar> <loading :show.sync=loading :text=""></loading> </div> '},function(e,t){e.exports=' <div> <div class=content> <div class=not_card v-show=no_data> <p class=ncd_p1><span class=ico_nocard></span></p> <p class=ncd_p2>赠送的电子卡不存在~~</p> <p class=ncd_p3> <x-button type=primary @click=onBuyCard>购买电子卡</x-button> <x-button @click=onHome>首页</x-button> </p> </div> <div v-show=!no_data> <div class=lk_top> <div class=lk_toux><span class=toux_img><img :src=info.giveUserHeadImg class=give-user></span></div> <p class=lk_tp1><em class=give-user-name>{{info.giveUsername}}</em>赠送的礼品卡</p> <p class="lk_tp2 give-content">{{info.shareContent}}</p> </div> <p class="lk_btn_p can-receive"> <x-button :type="info.giveStatus==0?\'primary\':\'\'" :disabled="info.giveStatus!=0" @click=onReceiveCard> {{statusStr}} </x-button> </p> <p class="lk_tit2 none"><span class="lk_cbox text-status"></span></p> </div> </div> <loading :show.sync=loading :text=""></loading> </div> '},function(e,t){e.exports=' <div class="wx-cards card gift"> <x-header :left-options=\'{showBack:true, backText:"返回"}\'>赠送卡 </x-header> <div class=container data-js=""> <div class=content> <p class=donation_top>请输入转赠留言</p> <div class="donation_text border b_top_btm"> <x-textarea :max=30 :placeholder=content :value.sync=content></x-textarea> </div> <p class=donation_btn> <x-button type=primary @click="maskShow=true">转赠</x-button> </p> <p class=donation_p1>温馨提示</p> <p class=donation_p2><span>1.</span> <span>转赠后，礼品卡即处于“转赠中”状态。待好友领取后，即与转赠者解绑，并与被转赠者建立绑定关系。</span></p> <p class=donation_p2><span>2.</span> <span>若超过24小时未领取。则过期不可再领取。同时礼品卡从“转赠中”状态恢复正常。</span></p> </div> <div class="s_wraper share_id" v-show=maskShow @click="maskShow=false"> <div class=pop_otop> <p class=box_share><span class=ico_share></span></p> </div> </div> </div> <alert :show.sync=alert.show title=消息 button-text=知道了 @on-hide=goHome>{{alert.message}}</alert> </div> '},function(e,t){e.exports=' <div class="wx-cards card gift flex" style=text-align:center> <x-header :left-options=\'{showBack:true, backText:"返回"}\'>赠送卡</x-header> <div class=lk_top> <div class=lk_toux><span class=toux_img><img :src=share.cardLogo class=give-user></span></div> <p class=lk_tp1>{{share.cardName}}</p> <p class="lk_tp2 give-content">{{share.content}}</p> </div> <p class=lk_title>礼品卡信息</p> <div class="lk_dov border b_top_btm"> <p class=fp_pt><span class=fp_sp1>礼品卡卡号</span> <span class="fp_sp2 card-no">{{share.cardCode}}</span></p> <p class=fp_pt><span class=fp_sp1>分享时间</span> <span class="fp_sp2 card-gtime">{{share.datetime}}</span></p> <p class=fp_pt><span class=fp_sp1>状态</span> <span class="fp_sp2 card-status">{{share.status}}</span></p> <div class="lk_person border b_top2 ruser" v-show=share.acquireUserImg> <div class=lk_person_d1><img :src=share.acquireUserImg class=give-ruser></div> <div class=lk_person_d2> <p class="lk_name give-ruser-name">{{share.acquireUserName}}</p> <p><em class=give-ruser-time></em>领取</p> </div> </div> </div> <p class=lk_tit><span class="lk_cbox btn-card" @click=onMyCard>查看我的卡包</span></p> <alert :show.sync=alert.show title=消息 button-text=知道了>{{alert.message}}</alert> </div> '},function(e,t){e.exports=" <div class=guide> <x-header :left-options='{showBack:true, backText:\"返回\"}'>购卡向导</x-header> <iframe src=http://wx.cdn.pipapay.com/static/html/card_guild.html width={{width}} height={{height}} frameborder=no marginwidth=0 marginheight=0 border=0 allowtransparency=yes></iframe> </div> "},function(e,t){e.exports=" <div class=help> <x-header :left-options='{showBack:true, backText:\"返回\"}'>帮助中心</x-header> <iframe src=http://wx.cdn.pipapay.com/static/html/card_help.html width={{width}} height={{height}} frameborder=no border=0 marginwidth=0 marginheight=0 allowtransparency=yes></iframe> </div> "},function(e,t){e.exports=" <div class=notice> <x-header :left-options='{showBack:true, backText:\"返回\"}'>电子卡章程</x-header> <iframe src=http://wx.cdn.pipapay.com/static/html/card_notice.html width={{width}} height={{height}} frameborder=no marginwidth=0 marginheight=0 border=0 allowtransparency=yes></iframe> </div> "},function(e,t){e.exports=' <div class="wx-cards card"> <x-header :left-options=\'{showBack:true, backText:"返回"}\' :right-options={showMore:true} @on-click-more="showMenus=true">我的卡包 </x-header> <actionsheet :menus=menus :show.sync=showMenus show-cancel @on-click-menu-home=onHome></actionsheet> <div class=weui_cells_title v-show="cards.length>0">你共有<span style=color:#6A6AD6>{{cards.length}}</span>张礼品卡 </div> <div class=content> <div style=margin:15px data-index={{$index}} data-globalid={{item.globalId}} data-cardid={{item.cardId}} data-cardcode={{item.cardCode}} data-merchantid={{item.merchantId}} data-status={{item.status}} v-for="item in cards" @click=openCard> <masker style=border-radius:10px color=000 :opacity=0> <div class=img :style="{backgroundImage: \'url(http://wx.cdn.pipapay.com/static/images/card_blue.png)\'}"></div> <div slot=content class=content> <flexbox> <flexbox-item :span=1/3><img class=card-logo :src=item.logo /></flexbox-item> <flexbox-item :span=2/3> <div class=title>{{item.title}}</div> <div class=sub-title>有效期至{{item.expireDate}}</div> </flexbox-item> </flexbox> <flexbox class=card-property> <flexbox-item class=card-money :span=1/2>余额: <span class=money>￥{{item.amount}}</span> </flexbox-item> <flexbox-item class={{statusClass[item.status]}} :span=1/2>{{statusStr[item.status]}}</flexbox-item> </flexbox> </div> </masker> </div> <div class=not_card v-show=no_data> <p class=ncd_p1><span class=ico_nocard></span></p> <p class=ncd_p2>暂无可消费的电子卡</p> <p class=ncd_p3> <x-button type=primary @click=buyCard>购买电子卡</x-button> </p> </div> </div> <loading :show.sync=loading :text=""></loading> <alert :show.sync=alert.show title=消息 button-text=知道了>{{alert.message}}</alert> </div> '},function(e,t){e.exports=' <div class=card> <x-header :left-options=\'{showBack:true, backText:"返回"}\' :right-options={showMore:true} @on-click-more="showMenus=true">支付 </x-header> <actionsheet :menus=menus :show.sync=showMenus show-cancel @on-click-menu-home="onPage(\'home\')" @on-click-menu-cards="onPage(\'memcards\')"></actionsheet> <div class=content> <div class=weui_cells_title v-show="cards.length>0">你共有 <span style=color:#6A6AD6>{{cards.length}}</span>张礼品卡 </div> <div style=margin:15px data-cardid={{item.cardId}} data-cardcode={{item.cardCode}} v-for="item in cards" @click=cardConsume> <masker style=border-radius:10px color=000 :opacity=0> <div class=img :style="{backgroundImage: \'url(http://wx.cdn.pipapay.com/static/images/card_blue.png)\'}"></div> <div slot=content class=content> <flexbox class=card-title> <flexbox-item :span=1/3><img class=card-logo :src=item.logo /></flexbox-item> <flexbox-item :span=2/3 class=title>{{item.title}}</flexbox-item> </flexbox> <flexbox class=card-property> <flexbox-item class=card-money :span=1/2>余额: <span class=money>￥{{item.amount}}</span> </flexbox-item> <flexbox-item class=card-valid :span=1/2>有效期至{{item.expireDate}}</flexbox-item> </flexbox> </div> </masker> </div> <div class=not_card v-show=no_data> <p class=ncd_p1><span class=ico_nocard></span></p> <p class=ncd_p2>暂无可消费的电子卡</p> <p class=ncd_p3> <x-button type=primary @click=onBuyCard>购买电子卡</x-button> </p> </div> </div> <alert :show.sync=alert.show title=消息 button-text=知道了>{{alert.message}}</alert> <loading :show.sync=loading></loading> </div> '},function(e,t){e.exports=' <div class=pay> <div class=background> <a class=detail @click=onPayDetail>交易明细</a> <br> <div class=pay-card> <div> <div class=title>{{card.merchantName}}</div> <div class=sub-title>余额：￥{{card.amount}}</div> </div> <div class=line-part> <div class="line left"></div> <div class="line right"></div> </div> <div style=min-height:410px> <div class=code-img> <barcode :width=1.4 style=max-height:200px :display-value=true :code.sync=card.qrcode></barcode> </div> <div class=code-img style="padding: 20px 0 50px 0"> <qrcode :size=64 :value.sync=card.qrcode></qrcode> </div> </div> </div> <br> </div> <alert :show.sync=alert.show @on-hide=onHome title=信息 button-text=知道了>{{alert.message}}</alert> <loading :show.sync=loading :text=""></loading> </div> '},function(e,t){e.exports=' <div class=pay-records> <div class=content> <div class=sale_top>合计: 近3月收入<span class=col1>￥<em class=income-money>{{rechargeTotal}}</em></span>，支出<span class=col3>￥<em class=outcome-money>{{expendTotal}}</em></span></div> <div class=record-container> <div class="sr_item {{item.className}}" v-for="item in records"> <div class=sr_it1> <p class=sr_itp1>{{item.merchantName}}</p> <p class=sr_itp2>{{item.date}}</p> </div> <div class=sr_it2><span>{item.amount}</span></div> </div> <div class=no_data v-show=no_data_display> <p class=nodata_p><span class=ico_nodata></span></p> <p class=nodata_tit>暂无交易记录</p> </div> </div> </div> </div> '},function(e,t){e.exports=' <div class=order _v-1fec1068=""> <x-header :left-options="{showBack:true, backText:&quot;返回&quot;}" :right-options={showMore:true} @on-click-more="showMenus=true" _v-1fec1068="">购买 </x-header> <actionsheet :menus=menus :show.sync=showMenus show-cancel="" @on-click-menu-home="onPage(\'home\')" @on-click-menu-cards="onPage(\'memcards\')" _v-1fec1068=""></actionsheet> <div class=weui_cells_title _v-1fec1068="">欢迎选购电子礼品卡,礼品卡面值(最低1元)</div> <checker class=center :value.sync=money default-item-class=money-item selected-item-class=money-item-selected _v-1fec1068=""> <checker-item :value=50 _v-1fec1068="">50元</checker-item> <checker-item :value=100 _v-1fec1068="">100元</checker-item> <checker-item :value=200 _v-1fec1068="">200元</checker-item> <checker-item :value=500 _v-1fec1068="">500元</checker-item> <checker-item :value=1000 _v-1fec1068="">1000元</checker-item> <checker-item :value=0 _v-1fec1068="">其他金额</checker-item> </checker> <div class="center other-money-input" v-show=!money _v-1fec1068=""> <div class="popover fade bottom in" style="display: block" _v-1fec1068=""> <div class=arrow _v-1fec1068=""></div> <div class=popover-content _v-1fec1068=""> <x-input class=other-money focus=true placeholder=1-1000 type=number :min=1 :max=1000 :value.sync=otherMoney keyboard=number _v-1fec1068=""></x-input> </div> </div> </div> <group _v-1fec1068=""> <x-number title=数量 :min=1 :max=10 :value.sync=count type=inline _v-1fec1068=""></x-number> <cell title=合计 _v-1fec1068=""><span class=money-symbol _v-1fec1068="">￥</span><span class=money _v-1fec1068="">{{count*money || count*otherMoney}}</span> </cell> </group> <group _v-1fec1068=""> <switch :value.sync=invoice.enable title=需要发票(邮寄到付) _v-1fec1068=""></switch> <div v-show=invoice.enable _v-1fec1068=""> <x-input title=发票抬头 :value.sync=invoice.title placeholder=单位名称或个人姓名 _v-1fec1068=""></x-input> <cell title=发票内容 :value.sync=invoice.content is-link="" @click="invoice.select=true" _v-1fec1068=""></cell> <x-input title=收件人 :min=3 :max=4 :value.sync=invoice.name placeholder=姓名 _v-1fec1068=""></x-input> <x-input title=联系电话 :value.sync=invoice.phone placeholder=手机号码 keyboard=number is-type=china-mobile _v-1fec1068=""></x-input> <x-input title=邮政编码 :value.sync=invoice.zip placeholder=邮政编码 keyboard=number :min=6 :max=6 _v-1fec1068=""></x-input> <x-input title=详细地址 :value.sync=invoice.address placeholder="省份 城市 街道 详细地址" _v-1fec1068=""></x-input> </div> <actionsheet :show.sync=invoice.select :menus=invoice.menus @on-click-menu=invoiceContentSelect _v-1fec1068=""></actionsheet> </group> <box style=padding:20px _v-1fec1068=""> <x-button :disabled=buyButtonDisable type=primary @click=buyCard _v-1fec1068="">购卡</x-button> </box> <alert :show.sync=alert.show title=消息 button-text=知道了 @on-hide=alert.callback _v-1fec1068="">{{alert.message}}</alert> <loading :show.sync=loading _v-1fec1068=""></loading> </div> '},function(e,t,o){e.exports=' <div class=home _v-57127bda=""> <div class="vue-home center" _v-57127bda=""> <h1 class=vux-title style="padding:15px 0 0px" _v-57127bda=""> <img style=width:80px src='+o(193)+' _v-57127bda=""> </h1> <p class=vux-notice style="padding:0 0 15px;color:#fff" _v-57127bda="">噼啪礼品卡</p> </div> <div class=bg _v-57127bda=""> <flexbox class=vux-1px-tb :gutter=0 _v-57127bda=""> <flexbox-item class=vux-1px-r _v-57127bda=""> <a class=item v-link=buy_url _v-57127bda=""> <div class="img icon-buy" _v-57127bda=""></div> <div class=text _v-57127bda="">购卡</div> </a> </flexbox-item> <flexbox-item class=vux-1px-r _v-57127bda=""> <a class=item v-link="{name:\'paycards\'}" _v-57127bda=""> <div class="img icon-pay" _v-57127bda=""></div> <div class=text _v-57127bda="">支付</div> </a> </flexbox-item> <flexbox-item class=vux-1px-r _v-57127bda=""> <a class=item v-link="{name:\'gift\'}" _v-57127bda=""> <div class="img icon-share" _v-57127bda=""></div> <div class=text _v-57127bda="">赠送卡</div> </a> </flexbox-item> </flexbox> <flexbox class=vux-1px-b :gutter=0 _v-57127bda=""> <flexbox-item class=vux-1px-r _v-57127bda=""> <a class=item _v-57127bda=""> <div class="img icon-buy-online" _v-57127bda=""></div> <div class=text _v-57127bda="">在线购物</div> </a> </flexbox-item> <flexbox-item class=vux-1px-r _v-57127bda=""> <a class=item v-link="{name:\'memcards\'}" _v-57127bda=""> <div class="img icon-mycard" _v-57127bda=""></div> <div class=text _v-57127bda="">我的卡包</div> </a> </flexbox-item> <flexbox-item _v-57127bda=""> <a class=item v-link="{name:\'guide\'}" _v-57127bda=""> <div class="img icon-desc" _v-57127bda=""></div> <div class=text _v-57127bda="">购卡指引</div> </a> </flexbox-item> </flexbox> <flexbox class=vux-1px-b :gutter=0 _v-57127bda=""> <flexbox-item class=vux-1px-r _v-57127bda=""> <a class=item v-link="{name:\'help\'}" _v-57127bda=""> <div class="img icon-help" _v-57127bda=""></div> <div class=text _v-57127bda="">帮助中心</div> </a> </flexbox-item> <flexbox-item class=vux-1px-r _v-57127bda=""> <a class=item v-link="{name:\'notice\'}" _v-57127bda=""> <div class="img icon-guide" _v-57127bda=""></div> <div class=text _v-57127bda="">电子卡章程</div> </a> </flexbox-item> <flexbox-item _v-57127bda=""> <a class=item href="" _v-57127bda=""></a> </flexbox-item> </flexbox> </div> <loading :show.sync=loading :text="" _v-57127bda=""></loading> </div> '},function(e,t,o){var s,a;o(172),s=o(84),a=o(198),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;o(192),s=o(85),a=o(240),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;s=o(93),a=o(206),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;o(183),s=o(98),a=o(212),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;o(186),s=o(101),a=o(216),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;s=o(103),a=o(218),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;o(189),s=o(107),a=o(222),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;s=o(111),a=o(226),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;o(191),s=o(112),a=o(239),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;s=o(113),a=o(227),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;o(176),s=o(114),a=o(228),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;s=o(115),a=o(229),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;o(177),s=o(116),a=o(230),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;s=o(117),a=o(231),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;s=o(118),a=o(232),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;s=o(119),a=o(233),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;s=o(120),a=o(234),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;s=o(121),a=o(235),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;o(178),s=o(122),a=o(236),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;o(179),s=o(123),a=o(237),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;s=o(124),a=o(238),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var s,a;o(190),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},,,,,,,function(e,t,o){var s,a;!function(i,n){s=n,a="function"==typeof s?s.call(t,o,t,e):s,!(void 0!==a&&(e.exports=a))}(this,function(){"use strict";function e(e){var o=e._util;if(o.elements=c(e.options.selector),o.count=o.elements.length,o.destroyed&&(o.destroyed=!1,e.options.container&&h(e.options.container,function(e){p(e,"scroll",o.validateT)}),p(window,"resize",o.saveViewportOffsetT),p(window,"resize",o.validateT),p(window,"scroll",o.validateT),e.options.scroller)){var s=e.options.scroller._xscroll,a=s.userConfig.useOriginScroll?"scroll":"scrollend";s.on("afterrender",o.validateT,e),s.on(a,o.validateT,e)}t(e)}function t(e){for(var t=e._util,s=0;s<t.count;s++){var a=t.elements[s];(o(a)||l(a,e.options.successClass))&&(e.load(a),t.elements.splice(s,1),t.count--,s--)}0===t.count&&e.destroy()}function o(e){var t=e.getBoundingClientRect();return t.right>=x.left&&t.bottom>=x.top&&t.left<=x.right&&t.top<=x.bottom}function s(e,t,o){if(!l(e,o.successClass)&&(t||o.loadInvisible||e.offsetWidth>0&&e.offsetHeight>0)){var s=e.getAttribute(m)||e.getAttribute(o.src);if(s){var c=s.split(o.separator),u=c[_&&c.length>1?1:0],v=r(e,"img");if(v||void 0===e.src){var x=new Image,y=function(){o.error&&o.error(e,"invalid"),d(e,o.errorClass),f(x,"error",y),f(x,"load",w)},w=function(){if(v){i(e,u),n(e,b,o.srcset);var t=e.parentNode;t&&r(t,"picture")&&h(t.getElementsByTagName("source"),function(e){n(e,b,o.srcset)}),o.scroller&&o.scroller.reset()}else e.style.backgroundImage='url("'+u+'")';a(e,o),f(x,"load",w),f(x,"error",y)};p(x,"error",y),p(x,"load",w),i(x,u)}else i(e,u),a(e,o)}else r(e,"video")?(h(e.getElementsByTagName("source"),function(e){n(e,g,o.src)}),e.load(),a(e,o)):(o.error&&o.error(e,"missing"),d(e,o.errorClass))}}function a(e,t){d(e,t.successClass),t.success&&t.success(e),e.removeAttribute(t.src),h(t.breakpoints,function(t){e.removeAttribute(t.src)})}function i(e,t){e[g]=t}function n(e,t,o){var s=e.getAttribute(o);s&&(e[t]=s,e.removeAttribute(o))}function r(e,t){return e.nodeName.toLowerCase()===t}function l(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")!==-1}function d(e,t){l(e,t)||(e.className+=" "+t)}function c(e){for(var t=[],o=document.querySelectorAll(e),s=o.length;s--;t.unshift(o[s]));return t}function u(e){x.bottom=(window.innerHeight||document.documentElement.clientHeight)+e,x.right=(window.innerWidth||document.documentElement.clientWidth)+e}function p(e,t,o){e.attachEvent?e.attachEvent&&e.attachEvent("on"+t,o):e.addEventListener(t,o,!1)}function f(e,t,o){e.detachEvent?e.detachEvent&&e.detachEvent("on"+t,o):e.removeEventListener(t,o,!1)}function h(e,t){if(e&&t)for(var o=e.length,s=0;s<o&&t(e[s],s)!==!1;s++);}function v(e,t,o){var s=0;return function(){var a=+new Date;a-s<t||(s=a,e.apply(o,arguments))}}var m,x,_,g="src",b="srcset";return function(o){if(!document.querySelectorAll){var a=document.createStyleSheet();document.querySelectorAll=function(e,t,o,s,i){for(i=document.all,t=[],e=e.replace(/\[for\b/gi,"[htmlFor").split(","),o=e.length;o--;){for(a.addRule(e[o],"k:v"),s=i.length;s--;)i[s].currentStyle.k&&t.push(i[s]);a.removeRule(0)}return t}}var i=this,n=i._util={};n.elements=[],n.destroyed=!0,i.options=o||{},i.options.error=i.options.error||!1,i.options.offset=i.options.offset||100,i.options.success=i.options.success||!1,i.options.selector=i.options.selector||".b-lazy",i.options.separator=i.options.separator||"|",i.options.container=!!i.options.container&&document.querySelectorAll(i.options.container),i.options.errorClass=i.options.errorClass||"b-error",i.options.breakpoints=i.options.breakpoints||!1,i.options.loadInvisible=i.options.loadInvisible||!1,i.options.successClass=i.options.successClass||"b-loaded",i.options.validateDelay=i.options.validateDelay||25,i.options.saveViewportOffsetDelay=i.options.saveViewportOffsetDelay||50,i.options.srcset=i.options.srcset||"data-srcset",i.options.src=m=i.options.src||"data-src",_=window.devicePixelRatio>1,x={},x.top=0-i.options.offset,x.left=0-i.options.offset,i.revalidate=function(){e(this)},i.load=function(e,t){var o=this.options;void 0===e.length?s(e,t,o):h(e,function(e){s(e,t,o)})},i.destroy=function(){var e=this,t=e._util;e.options.container&&h(e.options.container,function(e){f(e,"scroll",t.validateT)}),f(window,"scroll",t.validateT),f(window,"resize",t.validateT),f(window,"resize",t.saveViewportOffsetT),e.scroller&&e.scroller._xscroll&&e.scroller._xscroll.off("scroll scrollend afterrender",t.validateT,e.scroller._xscroll),t.count=0,t.elements.length=0,t.destroyed=!0},n.validateT=v(function(){t(i)},i.options.validateDelay,i),n.saveViewportOffsetT=v(function(){u(i.options.offset)},i.options.saveViewportOffsetDelay,i),u(i.options.offset),h(i.options.breakpoints,function(e){if(e.width>=window.screen.width)return m=e.src,!1}),setTimeout(function(){e(i)})}})},function(e,t){function o(){if(window.localStorage&&"object"==typeof localStorage&&(!localStorage.getItem(s)||"available"!==localStorage.getItem(s)&&"disable"!==localStorage.getItem(s))){var e=document.createElement("img");e.onload=function(){try{localStorage.setItem(s,"available")}catch(e){}},e.onerror=function(){try{localStorage.setItem(s,"disable")}catch(e){}},e.src="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAsAAAABBxAREYiI/gcAAABWUDggGAAAADABAJ0BKgEAAQABABwlpAADcAD+/gbQAA=="}}var s="can_use_webp";o(),e.exports=function(){return!!window.localStorage&&"available"===window.localStorage.getItem(s)}}]);