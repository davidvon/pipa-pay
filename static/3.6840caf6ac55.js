webpackJsonp([3],{79:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a(54);t["default"]={ready:function(){this.refresh()},methods:{refresh:function(){""!=this.code&&JsBarcode(this.$el,this.code,{displayValue:this.displayValue,width:this.width,height:this.height})}},props:{code:{type:[String,Number],required:!0},displayValue:{type:Boolean,"default":!0},width:{type:Number,"default":1},height:{type:Number,"default":120}},watch:{code:function(e){this.refresh()}}}},106:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(1),o=i(r),d=a(4);i(d);t["default"]={attached:function(){this.$root.navTitle="支付码",this.$root.showHeader=!1},components:{Barcode:a(224),Qrcode:a(55)},data:function(){return{timer:null,cardId:"",card:{status:0,merchantName:"",cardName:"",balance:0,qrcode:""}}},route:{data:function(e){this.cardId=e.to.params.cardId,this.carCode=e.to.params.cardCode,this.height=window.innerHeight}},methods:{reload:function(){var e=this;e.$dispatch("showLoading"),this.$http.post(o["default"].API_URL+"card/pay/code",{cardId:this.cardId,cardCode:this.carCode}).then(function(t){e.$dispatch("hideLoading");var a=t.data;a&&0==a.result&&(a.data.status>2?e.$dispatch("alert","该卡在转赠中或已过期",function(){e.$route.router.go({name:"home"})}):e.card=a.data)})},refresh:function(){var e=this;this.timer=setTimeout(function(){e.reload(),e.refresh()},6e4)},goPayRecords:function(){this.$route.router.go({name:"pay_records",params:{cardId:this.cardId}})}},ready:function(){this.reload(),this.refresh()},beforeDestroy:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)}}},158:function(e,t,a){t=e.exports=a(2)(),t.push([e.id,".pay{height:100%}.pay .background{background-color:#275f98!important;font-family:Microsoft YaHei,Helvetica Neue,Helvetica,STHeiTi,sans-serif;text-align:center;min-height:700px}.pay .background p{color:hsla(0,0%,100%,.3)}.pay .pay-card{width:75%;margin:10px 13%;background-color:#fff;border-radius:10px}.pay .pay-card .title{margin:0;padding-top:20px;line-height:20px;font-size:17px;color:#868484}.pay .pay-card .sub-title{margin:0;line-height:40px;font-size:20px;color:#5f5e5e;padding-bottom:10px}.pay .pay-card .line-part{border-bottom:1px dashed hsla(230,4%,73%,.48);margin:0 20px}.pay .pay-card .line{display:block;border-radius:10px;width:20px;height:20px;background-color:#275f98}.pay .pay-card .line.left{float:left;margin-top:-10px;margin-left:-30px}.pay .pay-card .line.right{float:right;margin-top:-10px;margin-right:-30px}.pay .detail{margin:10px;color:#fff;display:block}.pay .code-img{padding:15px 0 20px}",""])},171:function(e,t,a){var i=a(158);"string"==typeof i&&(i=[[e.id,i,""]]);a(3)(i,{});i.locals&&(e.exports=i.locals)},188:function(e,t){e.exports=" <img id=barcode /> "},216:function(e,t){e.exports=' <div class=pay> <div class=background> <br> <div class=pay-card> <div> <div class=title>{{card.merchantName}}</div> <div class=sub-title>余额：￥{{card.balance}}</div> </div> <div class=line-part> <div class="line left"></div> <div class="line right"></div> </div> <div> <div class=code-img> <barcode :width=1.4 style=max-height:120px :display-value=true :code.sync=card.qrcode></barcode> </div> <div class=code-img> <qrcode :size=64 :value.sync=card.qrcode></qrcode> </div> </div> </div> <a class=detail @click=goPayRecords>交易明细</a> <p>每分钟自动更新</p> </div> </div> '},224:function(e,t,a){var i,r;i=a(79),r=a(188),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports["default"]),r&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=r)},251:function(e,t,a){var i,r;a(171),i=a(106),r=a(216),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports["default"]),r&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=r)}});