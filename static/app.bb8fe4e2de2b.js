webpackJsonp([16],{0:function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var i=t(26),r=o(i),a=t(12),u=o(a),c=t(14),s=o(c),p=t(154),l=o(p),d=t(117),f=t(122),h=t(121),m=t(120),v=t(223);f.use(m),f.use(h),f.config.devtools=!0,f.http.options.emulateJSON=!0;var g=new h({hashbang:!1,history:!0,transitionOnLoad:!0});g.beforeEach(function(e){var n=e.to,t=e.next;if(s["default"].log("beforeEach","wxOpenId:"+r["default"].wxOpenId+" to.path:"+n.path),"/clear"===n.path)return r["default"].clear(),(0,d.clearCookie)("PIPA_OPENID",""),void alert("本地数据已清除");if(r["default"].wxOpenId)return void t();if(!n.query.code&&!n.query.state){var o=encodeURIComponent(u["default"].WX_HOST),i=n.path.split("?")[0],a="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+u["default"].WX_APPID+"&redirect_uri="+o+"&response_type=code&scope=snsapi_userinfo&state="+i+"#wechat_redirect";return s["default"].log("beforeEach","redirect url:"+a),void(location.href=a)}n.query.state&&(s["default"].log("main:beforeEach","code:"+n.query.code),f.http.post(u["default"].API_URL+"weixin/oauth/decode",{code:n.query.code}).then(function(e){var t=e.data;0===t.result?(r["default"].wxOpenId=t.openid,n.router.replace({path:n.query.state,params:{},query:{}})):r["default"].wxOpenId=""},function(e){s["default"].log("beforeEach","get openid error"),alert("校验错误")}))}),g.map(l["default"]),g.start(v,"#app")},2:function(e,n){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],n=0;n<this.length;n++){var t=this[n];t[2]?e.push("@media "+t[2]+"{"+t[1]+"}"):e.push(t[1])}return e.join("")},e.i=function(n,t){"string"==typeof n&&(n=[[null,n,""]]);for(var o={},i=0;i<this.length;i++){var r=this[i][0];"number"==typeof r&&(o[r]=!0)}for(i=0;i<n.length;i++){var a=n[i];"number"==typeof a[0]&&o[a[0]]||(t&&!a[2]?a[2]=t:t&&(a[2]="("+a[2]+") and ("+t+")"),e.push(a))}},e}},3:function(e,n,t){function o(e,n){for(var t=0;t<e.length;t++){var o=e[t],i=l[o.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](o.parts[r]);for(;r<o.parts.length;r++)i.parts.push(c(o.parts[r],n))}else{for(var a=[],r=0;r<o.parts.length;r++)a.push(c(o.parts[r],n));l[o.id]={id:o.id,refs:1,parts:a}}}}function i(e){for(var n=[],t={},o=0;o<e.length;o++){var i=e[o],r=i[0],a=i[1],u=i[2],c=i[3],s={css:a,media:u,sourceMap:c};t[r]?t[r].parts.push(s):n.push(t[r]={id:r,parts:[s]})}return n}function r(e,n){var t=h(),o=g[g.length-1];if("top"===e.insertAt)o?o.nextSibling?t.insertBefore(n,o.nextSibling):t.appendChild(n):t.insertBefore(n,t.firstChild),g.push(n);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");t.appendChild(n)}}function a(e){e.parentNode.removeChild(e);var n=g.indexOf(e);n>=0&&g.splice(n,1)}function u(e){var n=document.createElement("style");return n.type="text/css",r(e,n),n}function c(e,n){var t,o,i;if(n.singleton){var r=v++;t=m||(m=u(n)),o=s.bind(null,t,r,!1),i=s.bind(null,t,r,!0)}else t=u(n),o=p.bind(null,t),i=function(){a(t)};return o(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;o(e=n)}else i()}}function s(e,n,t,o){var i=t?"":o.css;if(e.styleSheet)e.styleSheet.cssText=y(n,i);else{var r=document.createTextNode(i),a=e.childNodes;a[n]&&e.removeChild(a[n]),a.length?e.insertBefore(r,a[n]):e.appendChild(r)}}function p(e,n){var t=n.css,o=n.media,i=n.sourceMap;if(o&&e.setAttribute("media",o),i&&(t+="\n/*# sourceURL="+i.sources[0]+" */",t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}var l={},d=function(e){var n;return function(){return"undefined"==typeof n&&(n=e.apply(this,arguments)),n}},f=d(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=d(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,v=0,g=[];e.exports=function(e,n){n=n||{},"undefined"==typeof n.singleton&&(n.singleton=f()),"undefined"==typeof n.insertAt&&(n.insertAt="bottom");var t=i(e);return o(t,n),function(e){for(var r=[],a=0;a<t.length;a++){var u=t[a],c=l[u.id];c.refs--,r.push(c)}if(e){var s=i(e);o(s,n)}for(var a=0;a<r.length;a++){var c=r[a];if(0===c.refs){for(var p=0;p<c.parts.length;p++)c.parts[p]();delete l[c.id]}}}};var y=function(){var e=[];return function(n,t){return e[n]=t,e.filter(Boolean).join("\n")}}()},12:function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t,o,i,r;console.log("location.origin:"+location.origin),"http://127.0.0.1:8080"===location.origin?(i="wxb3ec764893b99722",t="http://127.0.0.1:8080",o="http://127.0.0.1:5000",r="pYtFst9hZmAy3VmyajWSQaB2sQgw"):(i="wx6965cc85ec3e801c",t="http://wx.pipapay.com",o="http://live.pipapay.com",r="pYtFst9hZmAy3VmyajWSQaB2sQgw"),n["default"]={WX_HOST:t,API_HOST:o,API_URL:o+"/api/",WX_APPID:i,cardId:r,shareTitle:"噼啪支付",shareLogo:"http://wx.cdn.pipapay.com/static/images/pipalogo-blue2.png",shareDesc:"噼啪GIFT卡"}},14:function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,n){var t=(u["default"].wxOpenId||"",new Image(0,0)),o=[];o.push("version="+l),o.push("name="+encodeURIComponent(e)),n.message&&o.push("message="+encodeURIComponent(n.message)),n.location&&o.push("location="+encodeURIComponent(n.location)),n.line&&o.push("line="+encodeURIComponent(n.line)),n.func&&o.push("func="+encodeURIComponent(n.func));var i=o.join("&");t.src=p+i,console.log(""+e+", "+n.message)}function r(e,n){var t=u["default"].wxOpenId||"",o=new Image(0,0),i=[];i.push("version="+l),i.push("openid="+t),i.push("name="+encodeURIComponent(e)),i.push("message="+encodeURIComponent(n));var r=i.join("&");o.src=p+r,console.log("["+e+"] "+n)}Object.defineProperty(n,"__esModule",{value:!0});var a=t(26),u=o(a),c=t(12),s=o(c),p=s["default"].API_HOST+"/log.gif?",l="0.1";window.onerror=i,n["default"]={err:i,log:r}},26:function(e,n,t){"use strict";var o=t(117);e.exports={wxConfigMode:"",wxConfigModeSet:function(e){this.wxConfigMode=e},set wxOpenId(e){(0,o.setCookie)("PIPA_OPENID",e,1080),localStorage.setItem("PIPA_OPENID",e)},get wxOpenId(){var e=localStorage.getItem("PIPA_OPENID")||(0,o.getCookie)("PIPA_OPENID");return e&&!localStorage.getItem("PIPA_OPENID")&&localStorage.setItem("PIPA_OPENID",e),e},clear:function(){localStorage.clear()}}},117:function(e,n){"use strict";function t(e,n,t){var o=new Date;o.setTime(o.getTime()+60*t*60*1e3*24),document.cookie=e+"="+escape(n)+";path=/;expires="+o.toGMTString()}function o(e,n,t,o){var i=new Date;i.setTime(i.getTime()+24*t*60*60*1e3),document.cookie=e+"="+escape(n)+";path=/;expires="+i.toGMTString()+";domain="+o}function i(e){t(e,"",-1)}function r(e){var n,t=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(n=document.cookie.match(t))?unescape(n[2]):null}function a(e){var n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),t=window.location.search.substr(1).match(n);return null!=t?unescape(t[2]):null}function u(e,n,t){var o=e.split("#")[0];return/\?/g.test(o)?/name=[-\w]{4,25}/g.test(o)?o=o.replace(/name=[-\w]{4,25}/g,n+"="+t):o+="&"+n+"="+t:o+="?"+n+"="+t,e=e.split("#")[1]?o+"#"+window.location.href.split("#")[1]:o}Object.defineProperty(n,"__esModule",{value:!0}),n.setCookie=t,n.setCookieEx=o,n.clearCookie=i,n.getCookie=r,n.getQueryString=a,n.addUrlParam=u},154:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={"*":{name:"home",component:function(e){t.e(0,function(n){var t=[n(119)];e.apply(null,t)}.bind(this))}},"/":{name:"home",component:function(e){t.e(0,function(n){var t=[n(119)];e.apply(null,t)}.bind(this))}},"/buy/:cardId":{name:"buy",component:function(e){t.e(1,function(n){var t=[n(238)];e.apply(null,t)}.bind(this))}},"/buy/result/:orderId":{name:"buy_result",component:function(e){t.e(7,function(n){var t=[n(239)];e.apply(null,t)}.bind(this))}},"/memcards":{name:"memcards",component:function(e){t.e(5,function(n){var t=[n(247)];e.apply(null,t)}.bind(this))}},"/card/active":{name:"active",component:function(e){t.e(8,function(n){var t=[n(237)];e.apply(null,t)}.bind(this))}},"/pay/cards":{name:"paycards",component:function(e){t.e(6,function(n){var t=[n(248)];e.apply(null,t)}.bind(this))}},"/pay/:cardId/:cardCode":{name:"pay",component:function(e){t.e(2,function(n){var t=[n(249)];e.apply(null,t)}.bind(this))}},"/pay/records":{name:"pay_records",component:function(e){t.e(15,function(n){var t=[n(250)];e.apply(null,t)}.bind(this))}},"/gift":{name:"gift",component:function(e){t.e(3,function(n){var t=[n(240)];e.apply(null,t)}.bind(this))}},"/gift/share/:cardId/:cardCode":{name:"gift_share",component:function(e){t.e(4,function(n){var t=[n(242)];e.apply(null,t)}.bind(this))}},"/gift/share/result/:cardId/:cardCode":{name:"gift_share_result",component:function(e){t.e(9,function(n){var t=[n(243)];e.apply(null,t)}.bind(this))}},"/gift/receive/:sign":{name:"gift_receive",component:function(e){t.e(10,function(n){var t=[n(241)];e.apply(null,t)}.bind(this))}},"/help":{name:"help",component:function(e){t.e(13,function(n){var t=[n(245)];e.apply(null,t)}.bind(this))}},"/guide":{name:"guide",component:function(e){t.e(14,function(n){var t=[n(244)];e.apply(null,t)}.bind(this))}},"/notice":{name:"notice",component:function(e){t.e(12,function(n){var t=[n(246)];e.apply(null,t)}.bind(this))}}}},176:function(e,n){},193:function(e,n){e.exports=" <div> <router-view transition transition-mode=out-in></router-view> </div> "},223:function(e,n,t){var o,i;t(176),i=t(193),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)}});